# âš¡ å¿«é€Ÿå¼€å§‹ - 3 åˆ†é’Ÿä¸Šæ‰‹

**PixivFlow** å¿«é€Ÿå¼€å§‹æŒ‡å—ï¼Œè®©ä½ åœ¨ 3 åˆ†é’Ÿå†…å®Œæˆé…ç½®å¹¶å¼€å§‹ä¸‹è½½ã€‚

---

## ğŸ“‹ å¼€å§‹ä¹‹å‰

### ä»€ä¹ˆæ˜¯ PixivFlowï¼Ÿ

PixivFlow æ˜¯ä¸€ä¸ª**è‡ªåŠ¨åŒ–ä¸‹è½½å·¥å…·**ï¼Œå¯ä»¥å¸®ä½ ä» Pixivï¼ˆä¸€ä¸ªæ—¥æœ¬æ’ç”»åˆ†äº«ç½‘ç«™ï¼‰æ‰¹é‡ä¸‹è½½å–œæ¬¢çš„ä½œå“ã€‚å®ƒå®Œå…¨ç‹¬ç«‹è¿è¡Œï¼Œæ— éœ€æµè§ˆå™¨æ‰©å±•ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œæˆ–æœåŠ¡å™¨ä¸Šè‡ªåŠ¨æ‰§è¡Œä¸‹è½½ä»»åŠ¡ã€‚

### ç¯å¢ƒè¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„ç”µè„‘å·²å®‰è£…ï¼š

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | è¯´æ˜ |
|------|---------|------|
| **Node.js** | 18.0.0 æˆ–æ›´é«˜ | JavaScript è¿è¡Œç¯å¢ƒï¼Œç”¨äºè¿è¡Œ PixivFlow |
| **npm** | 9.0.0 æˆ–æ›´é«˜ | Node.js çš„åŒ…ç®¡ç†å™¨ï¼Œç”¨äºå®‰è£…ä¾èµ– |
| **Pixiv è´¦å·** | - | ç”¨äºç™»å½•è®¤è¯ï¼Œè®¿é—® Pixiv ç½‘ç«™ |

### å¿«é€Ÿæ£€æŸ¥ç¯å¢ƒ

æ‰“å¼€ç»ˆç«¯ï¼ˆTerminalï¼‰ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ç‰ˆæœ¬ï¼š

```bash
node --version   # åº”è¯¥æ˜¾ç¤º v18.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
npm --version    # åº”è¯¥æ˜¾ç¤º 9.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
```

å¦‚æœç‰ˆæœ¬ä¸ç¬¦åˆè¦æ±‚ï¼Œè¯·å…ˆå®‰è£…æˆ–æ›´æ–° Node.jsã€‚è®¿é—® [Node.js å®˜ç½‘](https://nodejs.org/) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆæ¨è â­ï¼‰

**æœ€ç®€å•çš„æ–¹å¼ - ä¸€é”®å®Œæˆæ‰€æœ‰è®¾ç½®**ï¼š

### å®Œæ•´æµç¨‹

å¿«é€Ÿå¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰åˆå§‹è®¾ç½®ï¼Œä½ åªéœ€è¦æŒ‰ç…§æç¤ºæ“ä½œå³å¯ã€‚

```bash
# æ­¥éª¤ 1ï¼šå®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡ä½¿ç”¨éœ€è¦ï¼‰
npm install

# æ­¥éª¤ 2ï¼šè¿è¡Œå¿«é€Ÿå¯åŠ¨è„šæœ¬
./scripts/quick-start.sh
```

### è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»€ä¹ˆï¼Ÿ

å¿«é€Ÿå¯åŠ¨è„šæœ¬ä¼šæŒ‰é¡ºåºæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1. **ç¯å¢ƒæ£€æŸ¥** - è‡ªåŠ¨æ£€æŸ¥ Node.js å’Œ npm ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚
2. **ä¾èµ–å®‰è£…** - å¦‚æœç¼ºå°‘ä¾èµ–ï¼Œä¼šè‡ªåŠ¨å®‰è£…æ‰€éœ€ç»„ä»¶
3. **è´¦å·ç™»å½•** - å¼•å¯¼ä½ è¾“å…¥ Pixiv è´¦å·å’Œå¯†ç ï¼Œå®Œæˆç™»å½•è®¤è¯
4. **é…ç½®è®¾ç½®** - å¼•å¯¼ä½ è®¾ç½®ä¸‹è½½æ ‡ç­¾ã€æ•°é‡ç­‰åŸºæœ¬é…ç½®
5. **æµ‹è¯•ä¸‹è½½** - è‡ªåŠ¨ä¸‹è½½ä¸€ä¸ªæµ‹è¯•ä½œå“ï¼ŒéªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®

> ğŸ’¡ **æç¤º**ï¼šæ•´ä¸ªè¿‡ç¨‹å¤§çº¦éœ€è¦ 3-5 åˆ†é’Ÿï¼Œå¤§éƒ¨åˆ†æ—¶é—´åœ¨ç­‰å¾…ä¾èµ–å®‰è£…å’Œä¸‹è½½æµ‹è¯•æ–‡ä»¶ã€‚

---

## ğŸ¯ æ‰‹åŠ¨é…ç½®æ–¹å¼

å¦‚æœä½ æƒ³æ‰‹åŠ¨æ§åˆ¶æ¯ä¸ªæ­¥éª¤ï¼Œæˆ–è€…å¿«é€Ÿå¯åŠ¨è„šæœ¬é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ‰‹åŠ¨é…ç½®ï¼š

### 1ï¸âƒ£ å®‰è£…ä¾èµ–

åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œï¼š

```bash
npm install
```

**è¯´æ˜**ï¼š
- è¿™ä¸ªå‘½ä»¤ä¼šä¸‹è½½å¹¶å®‰è£… PixivFlow è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–åŒ…
- é¦–æ¬¡å®‰è£…é€šå¸¸éœ€è¦ 1-2 åˆ†é’Ÿï¼Œå–å†³äºç½‘ç»œé€Ÿåº¦
- å¦‚æœçœ‹åˆ° "added XXX packages" è¡¨ç¤ºå®‰è£…æˆåŠŸ

---

### 2ï¸âƒ£ ç™»å½• Pixiv è´¦å·

**ä¸ºä»€ä¹ˆéœ€è¦ç™»å½•ï¼Ÿ**

PixivFlow éœ€è¦è®¿é—® Pixiv çš„ APIï¼ˆåº”ç”¨ç¨‹åºæ¥å£ï¼‰æ¥ä¸‹è½½ä½œå“ï¼Œå› æ­¤éœ€è¦ä½ çš„è´¦å·è®¤è¯ä¿¡æ¯ã€‚ç™»å½•ä¿¡æ¯åªä¿å­˜åœ¨æœ¬åœ°ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚

#### æ–¹å¼ 1ï¼šä½¿ç”¨ç™»å½•è„šæœ¬ï¼ˆæ¨è â­ æœ€ç®€å•ï¼‰

è¿™æ˜¯æœ€ç®€å•çš„æ–¹å¼ï¼Œé€‚åˆåªéœ€è¦ç™»å½•çš„ç”¨æˆ·ï¼š

```bash
npm run login
```

**æ“ä½œæµç¨‹**ï¼š
1. è¿è¡Œå‘½ä»¤åï¼Œç¨‹åºä¼šæç¤ºä½ è¾“å…¥ Pixiv è´¦å·ï¼ˆå¯ä»¥æ˜¯é‚®ç®±ã€ç”¨æˆ·åæˆ–è´¦å·åï¼‰
2. ç„¶åæç¤ºè¾“å…¥å¯†ç ï¼ˆè¾“å…¥æ—¶ä¸ä¼šæ˜¾ç¤ºï¼Œè¿™æ˜¯æ­£å¸¸çš„å®‰å…¨æªæ–½ï¼‰
3. ç¨‹åºä¼šè‡ªåŠ¨ä½¿ç”¨ Python gppt å·¥å…·å®Œæˆç™»å½•è®¤è¯
4. ç™»å½•æˆåŠŸåï¼Œè®¤è¯ä¿¡æ¯ä¼šè‡ªåŠ¨ä¿å­˜åˆ°é…ç½®æ–‡ä»¶

**ç‰¹ç‚¹**ï¼š
- âœ… **ç»ˆç«¯äº¤äº’**ï¼šç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥ï¼Œæ— éœ€æ‰“å¼€æµè§ˆå™¨
- âœ… **å®‰å…¨å¯é **ï¼šä½¿ç”¨ OAuth 2.0 æ ‡å‡†è®¤è¯æµç¨‹
- âœ… **è‡ªåŠ¨ä¿å­˜**ï¼šç™»å½•æˆåŠŸåè‡ªåŠ¨æ›´æ–°é…ç½®æ–‡ä»¶

#### æ–¹å¼ 2ï¼šä½¿ç”¨é…ç½®å‘å¯¼ï¼ˆç™»å½• + é…ç½®ä¸€æ­¥å®Œæˆï¼‰

å¦‚æœä½ æƒ³åŒæ—¶å®Œæˆç™»å½•å’Œé…ç½®ï¼Œå¯ä»¥ä½¿ç”¨é…ç½®å‘å¯¼ï¼š

```bash
# ä½¿ç”¨ä¾¿æ·è„šæœ¬
./scripts/easy-setup.sh

# æˆ–ä½¿ç”¨ npm å‘½ä»¤
npm run setup
```

**é…ç½®å‘å¯¼ä¼šå¼•å¯¼ä½ å®Œæˆ**ï¼š

1. **ğŸ” è´¦å·ç™»å½•** - åœ¨ç»ˆç«¯è¾“å…¥ Pixiv è´¦å·å’Œå¯†ç 
2. **âš™ï¸ ä¸‹è½½é…ç½®** - è®¾ç½®ä¸‹è½½æ ‡ç­¾ã€æ•°é‡ã€ç­›é€‰æ¡ä»¶ç­‰
3. **ğŸ’¾ ä¿å­˜é…ç½®** - è‡ªåŠ¨ä¿å­˜æ‰€æœ‰é…ç½®åˆ° `config/standalone.config.json` æ–‡ä»¶

#### é¦–æ¬¡æµ‹è¯•é…ç½®å»ºè®®

å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œå»ºè®®ä½¿ç”¨ä»¥ä¸‹ç®€å•é…ç½®è¿›è¡Œæµ‹è¯•ï¼š

| é…ç½®é¡¹ | æ¨èå€¼ | è¯´æ˜ |
|--------|--------|------|
| **æœç´¢æ ‡ç­¾** | `ã‚¤ãƒ©ã‚¹ãƒˆ` æˆ– `é¢¨æ™¯` | çƒ­é—¨æ ‡ç­¾ï¼Œä½œå“å¤šï¼ŒæˆåŠŸç‡é«˜ |
| **ä¸‹è½½æ•°é‡** | `1` | é¦–æ¬¡æµ‹è¯•åªä¸‹è½½ 1 ä¸ªä½œå“ï¼Œå¿«é€ŸéªŒè¯ |
| **å®šæ—¶ä»»åŠ¡** | `N`ï¼ˆå¦ï¼‰ | æµ‹è¯•é˜¶æ®µä¸éœ€è¦å®šæ—¶ä»»åŠ¡ |
| **å…¶ä»–é€‰é¡¹** | æŒ‰ Enter ä½¿ç”¨é»˜è®¤å€¼ | ä¿æŒé»˜è®¤å³å¯ |

> ğŸ’¡ **æœ¯è¯­è§£é‡Š**ï¼š
> - **æ ‡ç­¾ï¼ˆTagï¼‰**ï¼šPixiv ä¸Šç”¨äºåˆ†ç±»ä½œå“çš„æ ‡ç­¾ï¼Œå¦‚"é£æ™¯"ã€"æ’ç”»"ç­‰
> - **Refresh Token**ï¼šç”¨äºé•¿æœŸè®¿é—®çš„è®¤è¯ä»¤ç‰Œï¼Œç™»å½•åè‡ªåŠ¨è·å–å¹¶ä¿å­˜

---

### 3ï¸âƒ£ æµ‹è¯•ä¸‹è½½åŠŸèƒ½

ç™»å½•å’Œé…ç½®å®Œæˆåï¼Œå»ºè®®å…ˆè¿è¡Œä¸€æ¬¡æµ‹è¯•ï¼Œç¡®ä¿ä¸€åˆ‡æ­£å¸¸ã€‚

#### è¿è¡Œæµ‹è¯•

**æ–¹å¼ 1ï¼šä½¿ç”¨ä¾¿æ·è„šæœ¬ï¼ˆæ¨è â­ï¼‰**

```bash
./scripts/pixiv.sh test
```

**æ–¹å¼ 2ï¼šä½¿ç”¨ npm å‘½ä»¤**

```bash
npm run test
```

#### å¦‚ä½•åˆ¤æ–­æµ‹è¯•æˆåŠŸï¼Ÿ

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ åŠ è½½é…ç½®
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ ä¸‹è½½ç›®å½•: ./downloads/illustrations
âœ“ æ•°æ®åº“è·¯å¾„: ./data/pixiv-downloader.db
âœ“ ä¸‹è½½ç›®æ ‡: 1 ä¸ª
  - ç±»å‹: illustration
  - æ ‡ç­¾: ã‚¤ãƒ©ã‚¹ãƒˆ
  - æ•°é‡é™åˆ¶: 1

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ å¼€å§‹ä¸‹è½½
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[INFO] å¼€å§‹ä¸‹è½½ä»»åŠ¡
[INFO] Processing illustration tag ã‚¤ãƒ©ã‚¹ãƒˆ
[INFO] Saved illustration 137216582 page 1
[INFO] ä¸‹è½½ä»»åŠ¡å®Œæˆ

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… éªŒè¯ä¸‹è½½ç»“æœ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ æˆåŠŸä¸‹è½½ 1 ä¸ªæ–‡ä»¶ï¼š
  - 137216582_ç¡é†’çŒ«çŒ«æ—©è‹—_1.png (4001.32 KB)

ğŸ‰ æµ‹è¯•å®Œæˆï¼
```

#### æŸ¥çœ‹ä¸‹è½½çš„æ–‡ä»¶

æµ‹è¯•æˆåŠŸåï¼Œä¸‹è½½çš„æ–‡ä»¶ä¼šä¿å­˜åœ¨ï¼š

```
downloads/illustrations/
```

ä½ å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š

```bash
# æŸ¥çœ‹ä¸‹è½½ç›®å½•
ls downloads/illustrations/

# æˆ–æŸ¥çœ‹æ–‡ä»¶è¯¦æƒ…
ls -lh downloads/illustrations/
```

> âœ… **å·²éªŒè¯**ï¼šæµ‹è¯•è„šæœ¬å·²é€šè¿‡éªŒè¯ï¼Œå¯ä»¥æ­£å¸¸ä¸‹è½½ä½œå“ã€‚

---

## ğŸ“– ä¸‹ä¸€æ­¥ï¼šå¼€å§‹æ­£å¼ä½¿ç”¨

æµ‹è¯•æˆåŠŸåï¼Œä½ å¯ä»¥å¼€å§‹æ­£å¼ä½¿ç”¨ PixivFlow ä¸‹è½½ä½œå“äº†ã€‚æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ä½¿ç”¨æ–¹å¼ï¼š

### ğŸ² æ–¹å¼ 1ï¼šå¿«é€Ÿä½“éªŒ - éšæœºä¸‹è½½ï¼ˆæ¨èé¦–æ¬¡ä½¿ç”¨ â­ï¼‰

å¦‚æœä½ æƒ³å¿«é€Ÿä½“éªŒå·¥å…·åŠŸèƒ½ï¼Œå¯ä»¥ä¸‹è½½ä¸€ä¸ªéšæœºä½œå“ï¼š

```bash
# éšæœºä¸‹è½½æ’ç”»ï¼ˆé»˜è®¤ï¼‰
npm run random

# éšæœºä¸‹è½½å°è¯´
npm run random -- --novel
# æˆ–
npm run random -- -n
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- ğŸ² **è‡ªåŠ¨é€‰æ‹©æ ‡ç­¾**ï¼šä»çƒ­é—¨æ ‡ç­¾ä¸­éšæœºé€‰æ‹©ä¸€ä¸ª
  - æ’ç”»æ ‡ç­¾ï¼šé¢¨æ™¯ã€ã‚¤ãƒ©ã‚¹ãƒˆã€ã‚ªãƒªã‚¸ãƒŠãƒ«ç­‰
  - å°è¯´æ ‡ç­¾ï¼šå°èª¬ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã€ãƒ›ãƒ©ãƒ¼ã€ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ç­‰
- ğŸ” **éšæœºé€‰æ‹©ä½œå“**ï¼šä»æœç´¢ç»“æœä¸­éšæœºé€‰æ‹©ä¸€ä¸ªä½œå“
- ğŸ” **è‡ªåŠ¨ç™»å½•**ï¼šå¦‚æœæœªç™»å½•ï¼Œä¼šè‡ªåŠ¨å¼•å¯¼ä½ å®Œæˆç™»å½•
- ğŸ“¥ **å¿«é€Ÿä½“éªŒ**ï¼šä¸‹è½½ 1 ä¸ªéšæœºä½œå“ï¼Œå¿«é€Ÿäº†è§£å·¥å…·åŠŸèƒ½
- ğŸ“š **æ”¯æŒç±»å‹**ï¼šæ”¯æŒéšæœºä¸‹è½½æ’ç”»å’Œå°è¯´ä¸¤ç§ç±»å‹

### ğŸ¯ æ–¹å¼ 2ï¼šæŒ‰é…ç½®ä¸‹è½½ï¼ˆæ¨èæ—¥å¸¸ä½¿ç”¨ï¼‰

æ ¹æ®ä½ çš„é…ç½®æ–‡ä»¶è®¾ç½®ï¼Œæ‰§è¡Œä¸‹è½½ä»»åŠ¡ï¼š

**ä½¿ç”¨ä¾¿æ·è„šæœ¬**ï¼š

```bash
# æ‰§è¡Œä¸€æ¬¡ä¸‹è½½ï¼ˆæ ¹æ®é…ç½®æ–‡ä»¶ä¸­çš„è®¾ç½®ï¼‰
./scripts/pixiv.sh once

# å¯åŠ¨å®šæ—¶ä»»åŠ¡ï¼ˆåå°æŒç»­è¿è¡Œï¼ŒæŒ‰é…ç½®çš„æ—¶é—´è‡ªåŠ¨ä¸‹è½½ï¼‰
./scripts/pixiv.sh run

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼ˆæ£€æŸ¥å®šæ—¶ä»»åŠ¡æ˜¯å¦åœ¨è¿è¡Œï¼‰
./scripts/pixiv.sh status

# åœæ­¢è¿è¡Œï¼ˆåœæ­¢å®šæ—¶ä»»åŠ¡ï¼‰
./scripts/pixiv.sh stop
```

**ä½¿ç”¨ npm å‘½ä»¤**ï¼š

```bash
# æ‰§è¡Œä¸€æ¬¡ä¸‹è½½
npm run download

# å¯åŠ¨å®šæ—¶ä»»åŠ¡ï¼ˆåå°æŒç»­è¿è¡Œï¼‰
npm run scheduler
```

> ğŸ’¡ **æœ¯è¯­è§£é‡Š**ï¼š
> - **å®šæ—¶ä»»åŠ¡ï¼ˆSchedulerï¼‰**ï¼šæŒ‰ç…§è®¾å®šçš„æ—¶é—´è‡ªåŠ¨æ‰§è¡Œä¸‹è½½ä»»åŠ¡ï¼Œå¦‚æ¯å¤©å‡Œæ™¨ 3 ç‚¹è‡ªåŠ¨ä¸‹è½½
> - **Cron è¡¨è¾¾å¼**ï¼šç”¨äºå®šä¹‰å®šæ—¶ä»»åŠ¡çš„æ—¶é—´è§„åˆ™ï¼Œå¦‚ `0 3 * * *` è¡¨ç¤ºæ¯å¤©å‡Œæ™¨ 3 ç‚¹

---

## âš™ï¸ å¸¸ç”¨é…ç½®ç¤ºä¾‹

### å¦‚ä½•ä¿®æ”¹é…ç½®ï¼Ÿ

#### æ–¹å¼ 1ï¼šä½¿ç”¨é…ç½®ç®¡ç†å™¨ï¼ˆæ¨èï¼‰

```bash
# äº¤äº’å¼ç¼–è¾‘é…ç½®ï¼ˆä¼šæ‰“å¼€ç¼–è¾‘å™¨ï¼‰
./scripts/config-manager.sh edit
```

#### æ–¹å¼ 2ï¼šç›´æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶

```bash
# ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€é…ç½®æ–‡ä»¶
nano config/standalone.config.json
# æˆ–
vim config/standalone.config.json
# æˆ–ä½¿ç”¨ VS Code
code config/standalone.config.json
```

#### æ–¹å¼ 3ï¼šé‡æ–°è¿è¡Œé…ç½®å‘å¯¼

å¦‚æœæƒ³é‡æ–°é…ç½®æ‰€æœ‰é€‰é¡¹ï¼š

```bash
./scripts/easy-setup.sh
```

### å®ç”¨é…ç½®ç¤ºä¾‹

#### ç¤ºä¾‹ 1ï¼šæ¯å¤©è‡ªåŠ¨ä¸‹è½½é£æ™¯æ’ç”»

è¿™ä¸ªé…ç½®ä¼šåœ¨æ¯å¤©å‡Œæ™¨ 3 ç‚¹è‡ªåŠ¨ä¸‹è½½ 20 å¼ é£æ™¯æ’ç”»ï¼š

```json
{
  "targets": [{
    "type": "illustration",
    "tag": "é¢¨æ™¯",
    "limit": 20
  }],
  "scheduler": {
    "enabled": true,
    "cron": "0 3 * * *"
  }
}
```

**é…ç½®è¯´æ˜**ï¼š
- `"type": "illustration"` - ä¸‹è½½ç±»å‹ä¸ºæ’ç”»ï¼ˆå›¾ç‰‡ï¼‰
- `"tag": "é¢¨æ™¯"` - æœç´¢æ ‡ç­¾ä¸º"é£æ™¯"
- `"limit": 20` - æ¯æ¬¡ä¸‹è½½ 20 ä¸ªä½œå“
- `"enabled": true` - å¯ç”¨å®šæ—¶ä»»åŠ¡
- `"cron": "0 3 * * *"` - Cron è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºæ¯å¤©å‡Œæ™¨ 3 ç‚¹æ‰§è¡Œ

#### ç¤ºä¾‹ 2ï¼šåŒæ—¶ä¸‹è½½å¤šä¸ªæ ‡ç­¾

è¿™ä¸ªé…ç½®ä¼šä¾æ¬¡ä¸‹è½½ä¸¤ä¸ªæ ‡ç­¾çš„ä½œå“ï¼š

```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "é¢¨æ™¯",
      "limit": 20
    },
    {
      "type": "illustration",
      "tag": "ã‚¤ãƒ©ã‚¹ãƒˆ",
      "limit": 30,
      "minBookmarks": 1000
    }
  ]
}
```

**é…ç½®è¯´æ˜**ï¼š
- ç¬¬ä¸€ä¸ªç›®æ ‡ï¼šä¸‹è½½ 20 ä¸ª"é£æ™¯"æ ‡ç­¾çš„ä½œå“
- ç¬¬äºŒä¸ªç›®æ ‡ï¼šä¸‹è½½ 30 ä¸ª"æ’ç”»"æ ‡ç­¾çš„ä½œå“ï¼Œä¸”æ”¶è—æ•°è‡³å°‘ 1000

> ğŸ’¡ **æœ¯è¯­è§£é‡Š**ï¼š
> - **minBookmarks**ï¼šæœ€ä½æ”¶è—æ•°ï¼Œç”¨äºç­›é€‰é«˜è´¨é‡ä½œå“
> - **limit**ï¼šä¸‹è½½æ•°é‡é™åˆ¶ï¼Œé˜²æ­¢ä¸€æ¬¡æ€§ä¸‹è½½è¿‡å¤š

#### ç¤ºä¾‹ 3ï¼šä½¿ç”¨ç›®å½•ç»„ç»‡åŠŸèƒ½

è¿™ä¸ªé…ç½®ä¼šè®©ä¸‹è½½çš„æ–‡ä»¶è‡ªåŠ¨æŒ‰ä½œè€…å’Œæ ‡ç­¾åˆ†ç±»å­˜å‚¨ï¼š

```json
{
  "storage": {
    "illustrationOrganization": "byAuthorAndTag"
  },
  "targets": [{
    "type": "illustration",
    "tag": "é¢¨æ™¯",
    "limit": 20
  }]
}
```

**ç›®å½•ç»“æ„ç¤ºä¾‹**ï¼š

ä½¿ç”¨ `byAuthorAndTag` åï¼Œæ–‡ä»¶ä¼šæŒ‰ä»¥ä¸‹ç»“æ„å­˜å‚¨ï¼š

```
downloads/
â””â”€â”€ illustrations/
    â””â”€â”€ ä½œè€…å/
        â””â”€â”€ é¢¨æ™¯/
            â””â”€â”€ 123456_ä½œå“æ ‡é¢˜_1.jpg
```

**æ”¯æŒçš„ç»„ç»‡æ–¹å¼**ï¼š

| æ¨¡å¼ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| `flat` | æ‰å¹³ç»“æ„ï¼ˆé»˜è®¤ï¼‰ | æ‰€æœ‰æ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ |
| `byAuthor` | æŒ‰ä½œè€…ç»„ç»‡ | æƒ³æŒ‰ä½œè€…åˆ†ç±»æŸ¥çœ‹ |
| `byTag` | æŒ‰æ ‡ç­¾ç»„ç»‡ | æƒ³æŒ‰æ ‡ç­¾åˆ†ç±»æŸ¥çœ‹ |
| `byDate` | æŒ‰æ—¥æœŸç»„ç»‡ï¼ˆYYYY-MMï¼‰ | æƒ³æŒ‰æ—¶é—´é¡ºåºæŸ¥çœ‹ |
| `byAuthorAndTag` | æŒ‰ä½œè€…å’Œæ ‡ç­¾ | æ—¢æƒ³æŒ‰ä½œè€…åˆæƒ³æŒ‰æ ‡ç­¾ |
| `byDateAndAuthor` | æŒ‰æ—¥æœŸå’Œä½œè€… | æŒ‰æ—¶é—´é¡ºåºï¼Œå†æŒ‰ä½œè€…åˆ†ç±» |

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ [é…ç½®æŒ‡å—](STANDALONE-SETUP-GUIDE.md#4-å­˜å‚¨é…ç½®)ã€‚

---

## ğŸ› å¸¸è§é—®é¢˜è§£å†³

### â“ é—®é¢˜ 1ï¼šç™»å½•å¤±è´¥

**å¯èƒ½åŸå› **ï¼š
- ç”¨æˆ·åæˆ–å¯†ç è¾“å…¥é”™è¯¯
- ç½‘ç»œè¿æ¥é—®é¢˜ï¼ˆéœ€è¦ä»£ç†ï¼‰
- Python gppt å·¥å…·æœªå®‰è£…

**è§£å†³æ–¹æ³•**ï¼š

```bash
# æ–¹æ³• 1ï¼šé‡æ–°ç™»å½•ï¼ˆæ¨èï¼‰
npm run login

# æ–¹æ³• 2ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥
ping app-api.pixiv.net

# æ–¹æ³• 3ï¼šå¦‚æœåœ¨ä¸­å›½å¤§é™†ï¼Œå¯èƒ½éœ€è¦è®¾ç½®ä»£ç†
# ç¨‹åºä¼šè‡ªåŠ¨ä»ç¯å¢ƒå˜é‡è¯»å–ä»£ç†é…ç½®
export all_proxy=socks5://127.0.0.1:6153
# æˆ–
export https_proxy=http://127.0.0.1:6152
# æˆ–
export http_proxy=http://127.0.0.1:6152

npm run login
```

> ğŸ’¡ **æç¤º**ï¼š
> - ç¨‹åºä¼šè‡ªåŠ¨ä»ç¯å¢ƒå˜é‡è¯»å–ä»£ç†é…ç½®ï¼Œæ— éœ€ä¿®æ”¹é…ç½®æ–‡ä»¶
> - ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§ï¼š`all_proxy` > `https_proxy` > `http_proxy`
> - æ”¯æŒçš„ä»£ç†åè®®ï¼š`http://`ã€`https://`ã€`socks5://`ã€`socks4://`
> - å¸¸è§ä»£ç†ç«¯å£ï¼š
>   - Clash: `http://127.0.0.1:7890`
>   - V2Ray: `http://127.0.0.1:10809`
>   - Shadowsocks: `socks5://127.0.0.1:1080`

---

### â“ é—®é¢˜ 2ï¼šæ‰¾ä¸åˆ°ä½œå“æˆ–ä¸‹è½½å¤±è´¥

**å¯èƒ½åŸå› **ï¼š
- æ ‡ç­¾æ‹¼å†™é”™è¯¯æˆ–ä¸å­˜åœ¨
- ç­›é€‰æ¡ä»¶è¿‡äºä¸¥æ ¼ï¼ˆå¦‚ `minBookmarks` è®¾ç½®å¤ªé«˜ï¼‰
- ç½‘ç»œè¿æ¥é—®é¢˜

**è§£å†³æ–¹æ³•**ï¼š

1. **ä½¿ç”¨å¸¸è§æ ‡ç­¾**ï¼š`ã‚¤ãƒ©ã‚¹ãƒˆ`ã€`é¢¨æ™¯`ã€`art`ã€`ã‚ªãƒªã‚¸ãƒŠãƒ«`
2. **é™ä½ç­›é€‰æ¡ä»¶**ï¼šå‡å°‘æˆ–ç§»é™¤ `minBookmarks` é™åˆ¶
3. **æ£€æŸ¥ç½‘ç»œè¿æ¥**ï¼šç¡®ä¿èƒ½æ­£å¸¸è®¿é—® Pixiv ç½‘ç«™
4. **éªŒè¯æ ‡ç­¾å­˜åœ¨**ï¼šåœ¨ Pixiv ç½‘ç«™ä¸Šæœç´¢ç¡®è®¤æ ‡ç­¾æ˜¯å¦å­˜åœ¨

---

### â“ é—®é¢˜ 3ï¼šè®¤è¯å¤±è´¥æˆ– Token è¿‡æœŸ

**ç—‡çŠ¶**ï¼šæç¤º "è®¤è¯å¤±è´¥" æˆ– "refresh_token æ— æ•ˆ"

**è§£å†³æ–¹æ³•**ï¼š

```bash
# æ–¹æ³• 1ï¼šé‡æ–°ç™»å½•ï¼ˆæ¨èï¼Œæœ€ç®€å•ï¼‰
npm run login

# æ–¹æ³• 2ï¼šé‡æ–°è¿è¡Œé…ç½®å‘å¯¼ï¼ˆä¼šé‡æ–°ç™»å½•å¹¶é…ç½®ï¼‰
./scripts/easy-setup.sh
```

> ğŸ’¡ **è¯´æ˜**ï¼šRefresh Token å¯èƒ½ä¼šè¿‡æœŸï¼Œå¦‚æœé‡åˆ°è®¤è¯å¤±è´¥ï¼Œé‡æ–°ç™»å½•å³å¯ã€‚

---

### â“ é—®é¢˜ 4ï¼šéœ€è¦æ›´å¤šå¸®åŠ©ï¼Ÿ

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½æ— æ³•è§£å†³é—®é¢˜ï¼Œå¯ä»¥å°è¯•ï¼š

```bash
# è¿è¡Œå¥åº·æ£€æŸ¥ï¼ˆæ£€æŸ¥ç¯å¢ƒã€é…ç½®ã€ç½‘ç»œç­‰ï¼‰
./scripts/pixiv.sh health

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼ˆäº†è§£å…·ä½“é”™è¯¯ä¿¡æ¯ï¼‰
./scripts/pixiv.sh logs

# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
./scripts/pixiv.sh help
```

**è·å–æ›´å¤šå¸®åŠ©**ï¼š
- ğŸ“– æŸ¥çœ‹ [å®Œæ•´æ–‡æ¡£](../../README.md)
- ğŸ“– æŸ¥çœ‹ [ç™»å½•æŒ‡å—](../guides/LOGIN_GUIDE.md)
- ğŸ“– æŸ¥çœ‹ [æµ‹è¯•æŒ‡å—](../guides/TEST_GUIDE.md)

---

## ğŸ› ï¸ å®ç”¨å‘½ä»¤é€ŸæŸ¥

### ä¸»è¦æ“ä½œ

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `npm run random` | éšæœºä¸‹è½½ä¸€ä¸ªæ’ç”»ä½œå“ï¼ˆå¿«é€Ÿä½“éªŒï¼‰ |
| `npm run random -- --novel` | éšæœºä¸‹è½½ä¸€ä¸ªå°è¯´ä½œå“ |
| `npm run random -- -n` | éšæœºä¸‹è½½ä¸€ä¸ªå°è¯´ä½œå“ï¼ˆç®€å†™ï¼‰ |
| `./scripts/pixiv.sh test` | æµ‹è¯•ä¸‹è½½ |
| `./scripts/pixiv.sh once` | æ‰§è¡Œä¸€æ¬¡ |
| `./scripts/pixiv.sh run` | å¯åŠ¨å®šæ—¶ä»»åŠ¡ |
| `./scripts/pixiv.sh stop` | åœæ­¢è¿è¡Œ |
| `./scripts/pixiv.sh status` | æŸ¥çœ‹çŠ¶æ€ |
| `./scripts/pixiv.sh health` | å¥åº·æ£€æŸ¥ |
| `./scripts/pixiv.sh logs` | æŸ¥çœ‹æ—¥å¿— |

### ç™»å½•ç®¡ç†

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `npm run login` | ç™»å½• Pixiv è´¦å·ï¼ˆæ¨è â­ï¼Œé»˜è®¤ä½¿ç”¨ Python gpptï¼‰ |
| `npm run login -- --help` | æŸ¥çœ‹ç™»å½•å¸®åŠ© |

### é…ç½®ç®¡ç†

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `./scripts/easy-setup.sh` | é…ç½®å‘å¯¼ |
| `./scripts/config-manager.sh edit` | ç¼–è¾‘é…ç½® |
| `./scripts/config-manager.sh backup` | å¤‡ä»½é…ç½® |
| `./scripts/config-manager.sh validate` | éªŒè¯é…ç½® |

### ç›‘æ§ç»´æŠ¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `./scripts/auto-monitor.sh` | è‡ªåŠ¨ç›‘æ§ |
| `./scripts/auto-maintain.sh` | è‡ªåŠ¨ç»´æŠ¤ |
| `./scripts/health-check.sh` | è¯¦ç»†æ£€æŸ¥ |

---

## ğŸ“š å®Œæ•´æ–‡æ¡£

éœ€è¦æ›´å¤šä¿¡æ¯ï¼ŸæŸ¥çœ‹ï¼š

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [START_HERE.md](START_HERE.md) | æ–°æ‰‹å®Œæ•´æŒ‡å— |
| [README.md](../../README.md) | é¡¹ç›®ä¸»æ–‡æ¡£ |
| [LOGIN_GUIDE.md](../guides/LOGIN_GUIDE.md) | ç™»å½•è¯¦è§£ |
| [SCRIPTS_GUIDE.md](../scripts/SCRIPTS_GUIDE.md) | è„šæœ¬è¯¦è§£ |
| [CONFIG_GUIDE.md](../guides/CONFIG_GUIDE.md) | é…ç½®æ–‡ä»¶ä½¿ç”¨æŒ‡å— |
| [RANKING_DOWNLOAD_GUIDE.md](../guides/RANKING_DOWNLOAD_GUIDE.md) | æ’è¡Œæ¦œä¸‹è½½æŒ‡å— |
| [TEST_GUIDE.md](../guides/TEST_GUIDE.md) | æµ‹è¯•æŒ‡å— |

---

<div align="center">

## ğŸ‰ å¼€å§‹ä½¿ç”¨å§ï¼

```bash
npm install
./scripts/easy-setup.sh
./scripts/pixiv.sh test
```

**PixivFlow** - è®© Pixiv ä½œå“æ”¶é›†å˜å¾—ä¼˜é›…è€Œé«˜æ•ˆ

</div>

# ğŸ¨ PixivFlow

<div align="center">

**æ™ºèƒ½çš„ Pixiv è‡ªåŠ¨åŒ–ä¸‹è½½å·¥å…· | Intelligent Pixiv Automation Downloader**

è®© Pixiv ä½œå“æ”¶é›†å˜å¾—ä¼˜é›…è€Œé«˜æ•ˆ | Make Pixiv artwork collection elegant and efficient

[![GitHub stars](https://img.shields.io/github/stars/zoidberg-xgd/pixivflow?style=for-the-badge&logo=github)](https://github.com/zoidberg-xgd/pixivflow/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/zoidberg-xgd/pixivflow?style=for-the-badge&logo=github)](https://github.com/zoidberg-xgd/pixivflow/network/members)
[![GitHub issues](https://img.shields.io/github/issues/zoidberg-xgd/pixivflow?style=for-the-badge&logo=github)](https://github.com/zoidberg-xgd/pixivflow/issues)
[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg?style=for-the-badge)](https://www.gnu.org/licenses/gpl-3.0)

[![TypeScript](https://img.shields.io/badge/TypeScript-5.6+-blue.svg?style=flat-square&logo=typescript)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg?style=flat-square&logo=node.js)](https://nodejs.org/)
[![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20macOS%20%7C%20Linux-lightgrey.svg?style=flat-square)](https://github.com/zoidberg-xgd/pixivflow)
[![Maintenance](https://img.shields.io/badge/Maintained-yes-green.svg?style=flat-square)](https://github.com/zoidberg-xgd/pixivflow/graphs/commit-activity)

[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [æ–‡æ¡£](#-æ–‡æ¡£å¯¼èˆª) â€¢ [è„šæœ¬å·¥å…·](#-è„šæœ¬å·¥å…·) â€¢ [ä½¿ç”¨åœºæ™¯](#-ä½¿ç”¨åœºæ™¯)

[English](README_EN.md) | [ä¸­æ–‡](#)

</div>

---

## ğŸ“‘ ç›®å½•

<details>
<summary>ç‚¹å‡»å±•å¼€å®Œæ•´ç›®å½•</summary>

- [ğŸ’¡ ä»€ä¹ˆæ˜¯ PixivFlowï¼Ÿ](#-ä»€ä¹ˆæ˜¯-pixivflow)
  - [ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹© PixivFlowï¼Ÿ](#-ä¸ºä»€ä¹ˆé€‰æ‹©-pixivflow)
  - [ğŸ¯ æ ¸å¿ƒç†å¿µ](#-æ ¸å¿ƒç†å¿µ)
- [âœ¨ åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
  - [ğŸš€ æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
  - [ğŸ é¢å¤–ä¼˜åŠ¿](#-é¢å¤–ä¼˜åŠ¿)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
  - [ğŸ“‹ ç¯å¢ƒè¦æ±‚](#-ç¯å¢ƒè¦æ±‚)
  - [ğŸ¬ å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èï¼‰](#-å¿«é€Ÿå¼€å§‹æ¨è)
  - [ğŸ¯ æ‰‹åŠ¨é…ç½®æ–¹å¼](#-æ‰‹åŠ¨é…ç½®æ–¹å¼)
- [ğŸ› ï¸ è„šæœ¬å·¥å…·](#ï¸-è„šæœ¬å·¥å…·)
- [ğŸ“š æ–‡æ¡£å¯¼èˆª](#-æ–‡æ¡£å¯¼èˆª)
- [ğŸ¯ ä½¿ç”¨åœºæ™¯](#-ä½¿ç”¨åœºæ™¯)
- [ğŸ“ é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [âš™ï¸ æ ¸å¿ƒé…ç½®](#ï¸-æ ¸å¿ƒé…ç½®)
- [ğŸ› å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [ğŸ”’ å®‰å…¨æç¤º](#-å®‰å…¨æç¤º)
- [ğŸ“Š ä¸‹è½½è®°å½•ç®¡ç†](#-ä¸‹è½½è®°å½•ç®¡ç†)
- [ğŸš€ è¿›é˜¶ä½¿ç”¨](#-è¿›é˜¶ä½¿ç”¨)
- [ğŸ“„ å¼€æºè®¸å¯](#-å¼€æºè®¸å¯)
- [ğŸ™ è‡´è°¢](#-è‡´è°¢)
- [ğŸ“® è·å–å¸®åŠ©](#-è·å–å¸®åŠ©)
- [ğŸ“ˆ é¡¹ç›®ç»Ÿè®¡](#-é¡¹ç›®ç»Ÿè®¡)
- [ğŸ¤ è´¡çŒ®](#-è´¡çŒ®)
- [ğŸ“ æ›´æ–°æ—¥å¿—](#-æ›´æ–°æ—¥å¿—)
- [æ”¯æŒé¡¹ç›®](#æ”¯æŒé¡¹ç›®)

</details>

---

## ğŸ’¡ ä»€ä¹ˆæ˜¯ PixivFlowï¼Ÿ

**PixivFlow** æ˜¯ä¸€ä¸ª**å®Œå…¨ç‹¬ç«‹è¿è¡Œ**çš„ Pixiv ä½œå“æ‰¹é‡ä¸‹è½½å·¥å…·ï¼Œä¸“ä¸ºè‡ªåŠ¨åŒ–è®¾è®¡ã€‚æ— éœ€æµè§ˆå™¨æ‰©å±•ï¼Œå¯åœ¨å‘½ä»¤è¡Œæˆ–æœåŠ¡å™¨ä¸Šè‡ªåŠ¨åŒ–è¿è¡Œï¼Œæ”¯æŒå®šæ—¶ä»»åŠ¡ã€æ™ºèƒ½å»é‡ã€æ–­ç‚¹ç»­ä¼ ç­‰åŠŸèƒ½ã€‚

### ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹© PixivFlowï¼Ÿ

| ç‰¹æ€§ | PixivFlow | å…¶ä»–å·¥å…· |
|------|-----------|---------|
| ğŸš€ **æ— éœ€æµè§ˆå™¨** | âœ… å®Œå…¨ç‹¬ç«‹è¿è¡Œ | âŒ éœ€è¦æµè§ˆå™¨æ‰©å±• |
| ğŸ¤– **è‡ªåŠ¨åŒ–** | âœ… å®šæ—¶ä»»åŠ¡ã€Cron æ”¯æŒ | âš ï¸ æ‰‹åŠ¨è§¦å‘ |
| ğŸ’¾ **æ™ºèƒ½å»é‡** | âœ… SQLite æ•°æ®åº“è®°å½• | âš ï¸ å¯èƒ½é‡å¤ä¸‹è½½ |
| ğŸ”„ **æ–­ç‚¹ç»­ä¼ ** | âœ… è‡ªåŠ¨æ¢å¤ä¸‹è½½ | âŒ éœ€è¦é‡æ–°å¼€å§‹ |
| ğŸ¯ **ç²¾å‡†ç­›é€‰** | âœ… æ ‡ç­¾ã€æ”¶è—æ•°ã€æ—¥æœŸ | âš ï¸ åŠŸèƒ½æœ‰é™ |
| ğŸ“Š **å®Œæ•´æ—¥å¿—** | âœ… è¯¦ç»†ç»Ÿè®¡æŠ¥å‘Š | âš ï¸ æ—¥å¿—ä¸å®Œæ•´ |
| ğŸ–¥ï¸ **æœåŠ¡å™¨éƒ¨ç½²** | âœ… æ”¯æŒåå°è¿è¡Œ | âŒ éœ€è¦å›¾å½¢ç•Œé¢ |
| ğŸ” **å®‰å…¨è®¤è¯** | âœ… OAuth 2.0 PKCE | âš ï¸ å®‰å…¨æ€§è¾ƒä½ |

### ğŸ¯ æ ¸å¿ƒç†å¿µ

- **è‡ªåŠ¨åŒ–ä¼˜å…ˆ**ï¼šè®¾ç½®ä¸€æ¬¡ï¼Œè‡ªåŠ¨è¿è¡Œï¼Œæ— éœ€äººå·¥å¹²é¢„
- **æ™ºèƒ½åŒ–ç®¡ç†**ï¼šè‡ªåŠ¨å»é‡ã€æ–­ç‚¹ç»­ä¼ ã€é”™è¯¯é‡è¯•
- **ç®€å•æ˜“ç”¨**ï¼š3 æ­¥å¼€å§‹ä½¿ç”¨ï¼Œé…ç½®å‘å¯¼å¼•å¯¼å®Œæˆ
- **å¼€ç®±å³ç”¨**ï¼šä¸°å¯Œçš„è„šæœ¬å·¥å…·ï¼Œæ— éœ€è®°å¿†å¤æ‚å‘½ä»¤

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **ğŸ¤– å®šæ—¶è‡ªåŠ¨** | Cron è¡¨è¾¾å¼é…ç½®ï¼Œæ”¯æŒæ¯å¤©ã€æ¯å‘¨ã€æ¯æœˆå®šæ—¶ä¸‹è½½ |
| **ğŸ¯ ç²¾å‡†ç­›é€‰** | æŒ‰æ ‡ç­¾ã€æ”¶è—æ•°ã€æ—¥æœŸèŒƒå›´ç­›é€‰ä½œå“ |
| **ğŸ² éšæœºä¸‹è½½** | ä¸€é”®ä¸‹è½½éšæœºçƒ­é—¨æ ‡ç­¾ä½œå“ï¼Œå¿«é€Ÿä½“éªŒ |
| **ğŸ’¾ æ™ºèƒ½å»é‡** | SQLite æ•°æ®åº“è®°å½•å†å²ï¼Œè‡ªåŠ¨è·³è¿‡å·²ä¸‹è½½ |
| **ğŸ”„ ç¨³å®šå¯é ** | è‡ªåŠ¨é‡è¯•ã€æ–­ç‚¹ç»­ä¼ ã€é”™è¯¯æ¢å¤ã€æ™ºèƒ½è·³è¿‡å·²åˆ é™¤/ç§æœ‰ä½œå“ |
| **ğŸ“Š å®Œæ•´æ—¥å¿—** | è¯¦ç»†çš„è¿è¡Œæ—¥å¿—å’Œä¸‹è½½ç»Ÿè®¡æŠ¥å‘Š |
| **ğŸ” å®‰å…¨ç™»å½•** | é€šè¿‡ Python gppt åº“å®ç° OAuth 2.0 PKCE æµç¨‹ï¼Œæ”¯æŒç»ˆç«¯ç™»å½• |

### ğŸ é¢å¤–ä¼˜åŠ¿

- âœ… **å®Œå…¨ç‹¬ç«‹**ï¼šæ— éœ€æµè§ˆå™¨ï¼Œçº¯å‘½ä»¤è¡Œå·¥å…·
- âœ… **è·¨å¹³å°æ”¯æŒ**ï¼šWindows / macOS / Linux å…¨å¹³å°æ”¯æŒ
- âœ… **è½»é‡çº§**ï¼šèµ„æºå ç”¨ä½ï¼Œé€‚åˆæœåŠ¡å™¨é•¿æœŸè¿è¡Œ
- âœ… **å¼€æºå…è´¹**ï¼šGPL-3.0 è®¸å¯è¯ï¼Œå¯è‡ªç”±å®šåˆ¶å’Œåˆ†å‘
- âœ… **ç±»å‹å®‰å…¨**ï¼šTypeScript ç¼–å†™ï¼Œç±»å‹æç¤ºå®Œå–„
- âœ… **æ–‡æ¡£å®Œå–„**ï¼šè¯¦ç»†çš„ä¸­æ–‡æ–‡æ¡£å’Œæ•™ç¨‹
- âœ… **æ´»è·ƒç»´æŠ¤**ï¼šæŒç»­æ›´æ–°ï¼ŒåŠæ—¶ä¿®å¤é—®é¢˜
- âœ… **ç¤¾åŒºæ”¯æŒ**ï¼šGitHub Issues å’Œ Discussions æ´»è·ƒ

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- Node.js 18+ å’Œ npm 9+
- ä¸€ä¸ª Pixiv è´¦å·

### ğŸ¬ å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èï¼‰

**æœ€ç®€å•çš„æ–¹å¼ - ä¸€é”®å®Œæˆæ‰€æœ‰è®¾ç½®**ï¼š

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. è¿è¡Œå¿«é€Ÿå¯åŠ¨è„šæœ¬ï¼ˆè‡ªåŠ¨å®Œæˆç™»å½•ã€é…ç½®ã€æµ‹è¯•ï¼‰
./scripts/quick-start.sh
```

å°±è¿™ä¹ˆç®€å•ï¼å¿«é€Ÿå¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨å¼•å¯¼æ‚¨å®Œæˆï¼š
- âœ… ç¯å¢ƒæ£€æŸ¥å’Œä¾èµ–å®‰è£…
- âœ… Pixiv è´¦å·ç™»å½•
- âœ… ä¸‹è½½é…ç½®è®¾ç½®
- âœ… æµ‹è¯•ä¸‹è½½éªŒè¯

---

### ğŸ¯ æ‰‹åŠ¨é…ç½®æ–¹å¼

å¦‚æœæ‚¨æƒ³æ‰‹åŠ¨æ§åˆ¶æ¯ä¸ªæ­¥éª¤ï¼š

#### 1ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
npm install
```

#### 2ï¸âƒ£ ç™»å½• Pixiv è´¦å·

```bash
# æœ€ç®€å•çš„æ–¹å¼ï¼šåœ¨ç»ˆç«¯è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼ˆæ¨èï¼‰
npm run login

# æˆ–ä½¿ç”¨é…ç½®å‘å¯¼ï¼ˆçº¯ç»ˆç«¯ç™»å½•ï¼Œäº¤äº’å¼é…ç½®ï¼‰
./scripts/easy-setup.sh
# æˆ–
npm run setup
```

**ç™»å½•è¯´æ˜**ï¼š
- âœ… é»˜è®¤äº¤äº’å¼ç™»å½•ï¼šåœ¨ç»ˆç«¯æç¤ºè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼ˆæ— å¤´æ¨¡å¼ï¼Œä¸æ‰“å¼€æµè§ˆå™¨ï¼‰
- âœ… è‡ªåŠ¨æ›´æ–°é…ç½®ï¼šç™»å½•æˆåŠŸåè‡ªåŠ¨æ›´æ–°é…ç½®æ–‡ä»¶ä¸­çš„ refresh token
- âœ… é»˜è®¤ä½¿ç”¨ Python gpptï¼šè‡ªåŠ¨ä½¿ç”¨ gppt è¿›è¡Œç™»å½•ï¼Œé¿å…è¢«æ£€æµ‹
- âœ… é…ç½®å‘å¯¼ï¼šä½¿ç”¨ `npm run setup` å¯è¿›è¡Œäº¤äº’å¼é…ç½®ï¼Œç™»å½•æ–¹å¼ä¹Ÿæ˜¯çº¯ç»ˆç«¯è¾“å…¥

#### 3ï¸âƒ£ é…ç½®ä¸‹è½½é€‰é¡¹ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½¿ç”¨ `npm run login` ç™»å½•ï¼Œå¯ä»¥ç¨åé…ç½®ä¸‹è½½é€‰é¡¹ï¼š

```bash
# è¿è¡Œé…ç½®å‘å¯¼
./scripts/easy-setup.sh
# æˆ–
npm run setup
```

é…ç½®å‘å¯¼ä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰è®¾ç½®ï¼ŒåŒ…æ‹¬ï¼š
- âš™ï¸ é…ç½®ä¸‹è½½é€‰é¡¹ï¼ˆæ ‡ç­¾ã€æ•°é‡ã€ç­›é€‰æ¡ä»¶ç­‰ï¼‰
- â° å®šæ—¶ä»»åŠ¡è®¾ç½®

#### 4ï¸âƒ£ å¼€å§‹ä¸‹è½½

```bash
# æµ‹è¯•ä¸‹è½½ï¼ˆæ¨èé¦–æ¬¡ä½¿ç”¨ï¼‰
./scripts/pixiv.sh test

# æ‰§è¡Œä¸€æ¬¡ä¸‹è½½
./scripts/pixiv.sh once

# å¯åŠ¨å®šæ—¶ä»»åŠ¡
./scripts/pixiv.sh run
```

å°±è¿™ä¹ˆç®€å•ï¼ğŸ‰

> **ğŸ’¡ æç¤º**ï¼šé¦–æ¬¡ä½¿ç”¨å»ºè®®å…ˆè¿è¡Œ `test` æµ‹è¯•ä¸‹è½½ 1-2 ä¸ªä½œå“ï¼Œç¡®è®¤é…ç½®æ­£ç¡®åå†æ­£å¼ä½¿ç”¨ã€‚
> 
> âœ… **å·²éªŒè¯**ï¼šæµ‹è¯•è„šæœ¬å·²é€šè¿‡éªŒè¯ï¼Œå¯ä»¥æ­£å¸¸ä¸‹è½½ä½œå“ã€‚è¯¦ç»†æµ‹è¯•ç»“æœè¯·æŸ¥çœ‹ [TEST_GUIDE.md](TEST_GUIDE.md)ã€‚

---

## ğŸ› ï¸ è„šæœ¬å·¥å…·

PixivFlow æä¾›äº†ä¸°å¯Œçš„è„šæœ¬å·¥å…·ï¼Œè®©ä½ æ— éœ€è®°å¿†å¤æ‚çš„ npm å‘½ä»¤ã€‚æ‰€æœ‰è„šæœ¬éƒ½ç›´æ¥è°ƒç”¨å†…ç½® CLI åŠŸèƒ½ï¼Œæ€§èƒ½æ›´å¥½ã€å“åº”æ›´å¿«ã€‚

### ğŸ¯ ä¸»æ§è„šæœ¬ï¼ˆæœ€å¸¸ç”¨ï¼‰

```bash
./scripts/pixiv.sh <command>
```

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `setup` | äº¤äº’å¼é…ç½®å‘å¯¼ï¼ˆé¦–æ¬¡å¿…é¡»è¿è¡Œï¼‰ |
| `login` | ç™»å½• Pixiv è´¦å·ï¼ˆäº¤äº’å¼ï¼Œç›´æ¥è°ƒç”¨å†…ç½®CLIï¼‰ |
| `test` | æµ‹è¯•ä¸‹è½½ï¼ˆä¸‹è½½å°‘é‡ä½œå“éªŒè¯é…ç½®ï¼‰ |
| `once` | æ‰§è¡Œä¸€æ¬¡ä¸‹è½½ |
| `random` | éšæœºä¸‹è½½ä¸€ä¸ªçƒ­é—¨æ ‡ç­¾ä½œå“ï¼ˆæ”¯æŒ `--novel` ä¸‹è½½å°è¯´ï¼‰ |
| `run` | å¯åŠ¨å®šæ—¶ä»»åŠ¡ï¼ˆåå°æŒç»­è¿è¡Œï¼‰ |
| `stop` | åœæ­¢è¿è¡Œçš„å®šæ—¶ä»»åŠ¡ |
| `status` | æŸ¥çœ‹å½“å‰è¿è¡ŒçŠ¶æ€ |
| `health` | å¥åº·æ£€æŸ¥ï¼ˆæ£€æŸ¥é…ç½®ã€ç½‘ç»œç­‰ï¼‰ |
| `logs` | æŸ¥çœ‹è¿è¡Œæ—¥å¿— |

**ğŸ’¡ æç¤º**ï¼šæ‰€æœ‰å‘½ä»¤éƒ½ç›´æ¥è°ƒç”¨å†…ç½® CLIï¼Œæ— éœ€é€šè¿‡ npm scriptsï¼Œå“åº”æ›´å¿«ã€‚

### ğŸ” ç™»å½•ç®¡ç†

```bash
# æ–¹å¼1ï¼šä½¿ç”¨ä¸»æ§è„šæœ¬ï¼ˆæ¨èï¼‰
./scripts/pixiv.sh login

# æ–¹å¼2ï¼šä½¿ç”¨ç™»å½•è„šæœ¬ï¼ˆæ”¯æŒæ›´å¤šé€‰é¡¹ï¼‰
./scripts/login.sh

# æ–¹å¼3ï¼šä½¿ç”¨ npm å‘½ä»¤
npm run login

# æ— å¤´ç™»å½•ï¼ˆé€šè¿‡å‚æ•°æä¾›ç”¨æˆ·åå¯†ç ï¼‰
./scripts/pixiv.sh login -u your_username -p your_password
```

### âš™ï¸ é…ç½®ç®¡ç†

```bash
# äº¤äº’å¼é…ç½®å‘å¯¼
./scripts/easy-setup.sh

# é…ç½®æ–‡ä»¶ç®¡ç†
./scripts/config-manager.sh backup    # å¤‡ä»½é…ç½®
./scripts/config-manager.sh restore   # æ¢å¤é…ç½®
./scripts/config-manager.sh validate  # éªŒè¯é…ç½®
./scripts/config-manager.sh edit      # ç¼–è¾‘é…ç½®
```

### ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

```bash
# è‡ªåŠ¨ç›‘æ§ï¼ˆæŒç»­ç›‘æ§è¿è¡ŒçŠ¶æ€ï¼‰
./scripts/auto-monitor.sh

# è‡ªåŠ¨ç»´æŠ¤ï¼ˆæ¸…ç†æ—¥å¿—ã€ä¼˜åŒ–æ•°æ®åº“ï¼‰
./scripts/auto-maintain.sh

# è¯¦ç»†å¥åº·æ£€æŸ¥
./scripts/health-check.sh
```

### ğŸš€ éƒ¨ç½²å’Œå¤‡ä»½

```bash
# è‡ªåŠ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨
./scripts/auto-deploy.sh

# è‡ªåŠ¨å¤‡ä»½é…ç½®å’Œæ•°æ®
./scripts/auto-backup.sh
```

### ğŸ¨ é«˜çº§ CLI å·¥å…·

```bash
# ä½¿ç”¨å®Œæ•´ CLI å·¥å…·ï¼ˆç›´æ¥è°ƒç”¨å†…ç½®åŠŸèƒ½ï¼‰
./scripts/pixiv-cli.sh <command>

# å¯ç”¨å‘½ä»¤ï¼š
./scripts/pixiv-cli.sh login [options]    # ç™»å½•
./scripts/pixiv-cli.sh refresh <token>     # åˆ·æ–°ä»¤ç‰Œ
./scripts/pixiv-cli.sh download            # æ‰§è¡Œä¸‹è½½
./scripts/pixiv-cli.sh random              # éšæœºä¸‹è½½
./scripts/pixiv-cli.sh scheduler           # å¯åŠ¨å®šæ—¶ä»»åŠ¡
./scripts/pixiv-cli.sh stats               # æŸ¥çœ‹ç»Ÿè®¡
./scripts/pixiv-cli.sh export              # å¯¼å‡ºæ•°æ®
```

**ğŸ’¡ æç¤º**ï¼š
- æ‰€æœ‰è„šæœ¬éƒ½æ”¯æŒ `--help` æŸ¥çœ‹è¯¦ç»†ç”¨æ³•
- è„šæœ¬ç›´æ¥è°ƒç”¨å†…ç½® CLIï¼ˆ`dist/index.js`ï¼‰ï¼Œæ— éœ€é€šè¿‡ npmï¼Œæ€§èƒ½æ›´å¥½
- æ¨èä½¿ç”¨ `./scripts/pixiv.sh` ä½œä¸ºä¸»è¦å…¥å£

è¯¦ç»†è¯´æ˜ï¼š[è„šæœ¬ä½¿ç”¨æŒ‡å—](SCRIPTS_GUIDE.md)

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### ğŸŒŸ æ–°æ‰‹å¿…è¯»

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [ğŸ“š TUTORIAL](TUTORIAL.md) | **å®Œæ•´æ•™ç¨‹**ï¼šä»ç™»å½•åˆ°ä¸‹è½½åˆ°å®šæ—¶ä»»åŠ¡ï¼Œè¯¦ç»†æ•™å­¦ |
| [ğŸ“– START_HERE](START_HERE.md) | æ–°æ‰‹å®Œæ•´æŒ‡å—ï¼Œä»é›¶å¼€å§‹ |
| [âš¡ QUICKSTART](QUICKSTART.md) | 3 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹ |
| [ğŸ” LOGIN_GUIDE](LOGIN_GUIDE.md) | ç™»å½•æµç¨‹è¯¦è§£ |
| [ğŸ§ª TEST_GUIDE](TEST_GUIDE.md) | æµ‹è¯•å’Œæ•…éšœæ’é™¤ |

### ğŸ“˜ è¿›é˜¶æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [âš™ï¸ STANDALONE-SETUP-GUIDE](STANDALONE-SETUP-GUIDE.md) | å®Œæ•´é…ç½®é€‰é¡¹è¯´æ˜ |
| [ğŸ› ï¸ SCRIPTS_GUIDE](SCRIPTS_GUIDE.md) | æ‰€æœ‰è„šæœ¬è¯¦ç»†è¯´æ˜ |
| [ğŸ“‹ CONFIG_GUIDE](CONFIG_GUIDE.md) | é…ç½®æ–‡ä»¶ä½¿ç”¨æŒ‡å— |
| [ğŸ“Š RANKING_DOWNLOAD_GUIDE](RANKING_DOWNLOAD_GUIDE.md) | æ’è¡Œæ¦œä¸‹è½½æŒ‡å— |

### ğŸ“„ é¡¹ç›®æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [ğŸ“ CHANGELOG](CHANGELOG.md) | ç‰ˆæœ¬æ›´æ–°æ—¥å¿— |
| [ğŸ“ CHANGELOG (EN)](CHANGELOG_EN.md) | Version Changelog |
| [ğŸ¤ CONTRIBUTING](CONTRIBUTING.md) | è´¡çŒ®æŒ‡å— |
| [ğŸ¤ CONTRIBUTING (EN)](CONTRIBUTING_EN.md) | Contributing Guide |
| [ğŸ“Š TEST_REPORT](TEST_REPORT.md) | æµ‹è¯•æŠ¥å‘Š |

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šæ¯æ—¥è‡ªåŠ¨æ”¶é›†çµæ„Ÿç´ æ

**éœ€æ±‚**ï¼šæ¯å¤©è‡ªåŠ¨ä¸‹è½½é£æ™¯ã€æ’ç”»ç±»é«˜è´¨é‡ä½œå“ä½œä¸ºè®¾è®¡ç´ æ

**é…ç½®ç¤ºä¾‹**ï¼š

```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "é¢¨æ™¯",
      "limit": 50,
      "minBookmarks": 1000
    },
    {
      "type": "illustration",
      "tag": "ã‚¤ãƒ©ã‚¹ãƒˆ",
      "limit": 30,
      "minBookmarks": 5000
    }
  ],
  "scheduler": {
    "enabled": true,
    "cron": "0 2 * * *"
  }
}
```

**è¿è¡Œæ–¹å¼**ï¼š

```bash
./scripts/pixiv.sh run
```

---

### åœºæ™¯ 2ï¼šæœåŠ¡å™¨å®šæ—¶æ”¶é›†ç‰¹å®šæ ‡ç­¾

**éœ€æ±‚**ï¼šåœ¨æœåŠ¡å™¨ä¸Šæ¯å‘¨æ”¶é›†ç‰¹å®šæ ‡ç­¾çš„çƒ­é—¨ä½œå“

**é…ç½®ç¤ºä¾‹**ï¼š

```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "åŸç¥",
      "limit": 100,
      "searchTarget": "partial_match_for_tags"
    }
  ],
  "scheduler": {
    "enabled": true,
    "cron": "0 0 * * 0",
    "timezone": "Asia/Shanghai"
  }
}
```

**éƒ¨ç½²æ–¹å¼**ï¼š

```bash
# ä½¿ç”¨è‡ªåŠ¨éƒ¨ç½²è„šæœ¬
./scripts/auto-deploy.sh

# æˆ–ä½¿ç”¨ PM2 ç®¡ç†è¿›ç¨‹
pm2 start "npm run scheduler" --name pixivflow
```

---

### åœºæ™¯ 3ï¼šå¿«é€Ÿä½“éªŒ - éšæœºä¸‹è½½

**éœ€æ±‚**ï¼šå¿«é€Ÿä½“éªŒå·¥å…·ï¼Œä¸‹è½½ä¸€ä¸ªéšæœºä½œå“

**è¿è¡Œæ–¹å¼**ï¼š

```bash
# éšæœºä¸‹è½½æ’ç”»ï¼ˆé»˜è®¤ï¼‰
npm run random

# éšæœºä¸‹è½½å°è¯´
npm run random -- --novel
# æˆ–
npm run random -- -n

# æ˜ç¡®æŒ‡å®šä¸‹è½½æ’ç”»
npm run random -- --illustration
# æˆ–
npm run random -- -i

# æˆ–ä½¿ç”¨ä¸»ç¨‹åºï¼ˆå¦‚æœå…¨å±€å®‰è£…äº† pixivflowï¼‰
pixivflow random
pixivflow random --novel
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- ğŸ² **éšæœºé€‰æ‹©æ ‡ç­¾**ï¼šä»çƒ­é—¨æ ‡ç­¾ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªï¼ˆæ’ç”»ï¼šé¢¨æ™¯ã€ã‚¤ãƒ©ã‚¹ãƒˆã€ã‚ªãƒªã‚¸ãƒŠãƒ«ç­‰ï¼›å°è¯´ï¼šå°èª¬ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã€ãƒ›ãƒ©ãƒ¼ç­‰ï¼‰
- ğŸ” **éšæœºé€‰æ‹©ä½œå“**ï¼šä»æœç´¢ç»“æœä¸­éšæœºé€‰æ‹©ä¸€ä¸ªä½œå“
- ğŸ” **è‡ªåŠ¨ç™»å½•**ï¼šå¦‚æœæœªç™»å½•ï¼Œä¼šè‡ªåŠ¨å¼•å¯¼ç™»å½•
- ğŸ“¥ **å¿«é€Ÿä½“éªŒ**ï¼šä¸‹è½½ 1 ä¸ªéšæœºä½œå“ï¼Œå¿«é€Ÿäº†è§£å·¥å…·åŠŸèƒ½
- ğŸ“š **æ”¯æŒç±»å‹**ï¼šæ”¯æŒéšæœºä¸‹è½½æ’ç”»å’Œå°è¯´ä¸¤ç§ç±»å‹

---

### åœºæ™¯ 4ï¼šä¸€æ¬¡æ€§æ‰¹é‡ä¸‹è½½

**éœ€æ±‚**ï¼šä¸€æ¬¡æ€§ä¸‹è½½æŒ‡å®šæ ‡ç­¾çš„ä½œå“

**é…ç½®ç¤ºä¾‹**ï¼š

```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "art",
      "limit": 500
    }
  ]
}
```

**è¿è¡Œæ–¹å¼**ï¼š

```bash
# ä½¿ç”¨ä¾¿æ·è„šæœ¬ï¼ˆæ¨èï¼‰
./scripts/pixiv.sh once

# æˆ–ä½¿ç”¨ npm å‘½ä»¤
npm run download

# æˆ–ä½¿ç”¨ä¸»ç¨‹åºï¼ˆå¦‚æœå…¨å±€å®‰è£…äº† pixivflowï¼‰
pixivflow download
```

> **ğŸ’¡ æç¤º**ï¼šæ‰€æœ‰ä¸‹è½½ä»»åŠ¡éƒ½é€šè¿‡é…ç½®æ–‡ä»¶å®ç°ï¼Œæ— éœ€ä¿®æ”¹æºä»£ç ã€‚è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ [é…ç½®æ–‡ä»¶ä½¿ç”¨æŒ‡å—](CONFIG_GUIDE.md)ã€‚

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
pixivflow/
â”œâ”€â”€ ğŸ“„ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ standalone.config.json           # ä¸»é…ç½®ï¼ˆéœ€è‡ªè¡Œåˆ›å»ºï¼‰
â”‚   â”‚   â””â”€â”€ standalone.config.example.json   # é…ç½®æ¨¡æ¿
â”‚
â”œâ”€â”€ ğŸ’» æºä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts                 # ä¸»ç¨‹åºå…¥å£
â”‚   â”‚   â”œâ”€â”€ setup-wizard.ts          # é…ç½®å‘å¯¼
â”‚   â”‚   â”œâ”€â”€ config.ts                # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ logger.ts                # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ pixiv/                   # Pixiv API
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthClient.ts        # è®¤è¯å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â””â”€â”€ PixivClient.ts       # API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ download/                # ä¸‹è½½æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ DownloadManager.ts   # ä¸‹è½½ç®¡ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ FileService.ts       # æ–‡ä»¶æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ storage/                 # æ•°æ®æŒä¹…åŒ–
â”‚   â”‚   â”‚   â””â”€â”€ Database.ts          # SQLite æ•°æ®åº“
â”‚   â”‚   â””â”€â”€ scheduler/               # å®šæ—¶ä»»åŠ¡
â”‚   â”‚       â””â”€â”€ Scheduler.ts         # ä»»åŠ¡è°ƒåº¦å™¨
â”‚
â”œâ”€â”€ ğŸ› ï¸ è„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”œâ”€â”€ pixiv.sh                 # ä¸»æ§åˆ¶è„šæœ¬ï¼ˆæ¨èï¼‰
â”‚   â”‚   â”œâ”€â”€ easy-setup.sh            # é…ç½®å‘å¯¼ï¼ˆæ¨èï¼‰
â”‚   â”‚   â”œâ”€â”€ config-manager.sh        # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ health-check.sh          # å¥åº·æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ auto-monitor.sh          # è‡ªåŠ¨ç›‘æ§
â”‚   â”‚   â”œâ”€â”€ auto-maintain.sh         # è‡ªåŠ¨ç»´æŠ¤
â”‚   â”‚   â”œâ”€â”€ auto-backup.sh           # è‡ªåŠ¨å¤‡ä»½
â”‚   â”‚   â””â”€â”€ auto-deploy.sh           # è‡ªåŠ¨éƒ¨ç½²
â”‚
â”œâ”€â”€ ğŸ“¦ è¾“å‡ºç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ dist/                        # ç¼–è¯‘è¾“å‡º
â”‚   â”œâ”€â”€ downloads/                   # ä¸‹è½½ç›®å½•
â”‚   â”‚   â”œâ”€â”€ illustrations/           # æ’ç”»
â”‚   â”‚   â””â”€â”€ novels/                  # å°è¯´
â”‚   â””â”€â”€ data/                        # æ•°æ®ç›®å½•
â”‚       â”œâ”€â”€ pixiv-downloader.db      # SQLite æ•°æ®åº“
â”‚       â””â”€â”€ pixiv-downloader.log     # è¿è¡Œæ—¥å¿—
â”‚
â””â”€â”€ ğŸ“š æ–‡æ¡£
    â”œâ”€â”€ README.md                    # é¡¹ç›®ä¸»æ–‡æ¡£
    â”œâ”€â”€ START_HERE.md                # æ–°æ‰‹æŒ‡å—
    â”œâ”€â”€ QUICKSTART.md                # å¿«é€Ÿå¼€å§‹
    â”œâ”€â”€ LOGIN_GUIDE.md               # ç™»å½•æŒ‡å—
    â”œâ”€â”€ STANDALONE-SETUP-GUIDE.md    # é…ç½®æŒ‡å—
    â”œâ”€â”€ SCRIPTS_GUIDE.md             # è„šæœ¬æŒ‡å—
    â””â”€â”€ TEST_GUIDE.md                # æµ‹è¯•æŒ‡å—
```

---

## âš™ï¸ æ ¸å¿ƒé…ç½®

é…ç½®æ–‡ä»¶ä½äº `config/standalone.config.json`ã€‚ä»¥ä¸‹æ˜¯å…³é”®é…ç½®é¡¹è¯´æ˜ï¼š

### è®¤è¯é…ç½®

```json
{
  "pixiv": {
    "refreshToken": "your_refresh_token_here",
    "clientId": "MOBrBDS8blbauoSck0ZfDbtuzpyT",
    "clientSecret": "lsACyCD94FhDUtGTXi3QzcFE2uU1hqtDaKeqrdwj",
    "userAgent": "PixivAndroidApp/5.0.234 (Android 11; Pixel 6)"
  }
}
```

> âš ï¸ `refreshToken` é€šè¿‡é…ç½®å‘å¯¼è‡ªåŠ¨è·å–ï¼Œæ— éœ€æ‰‹åŠ¨å¡«å†™

### ä¸‹è½½ç›®æ ‡

```json
{
  "targets": [
    {
      "type": "illustration",              // ç±»å‹: illustration æˆ– novel
      "tag": "é¢¨æ™¯",                       // æœç´¢æ ‡ç­¾
      "limit": 20,                         // ä¸‹è½½æ•°é‡é™åˆ¶
      "searchTarget": "partial_match_for_tags",
      "minBookmarks": 500,                 // æœ€ä½æ”¶è—æ•°
      "startDate": "2024-01-01",          // å¼€å§‹æ—¥æœŸï¼ˆå¯é€‰ï¼‰
      "endDate": "2024-12-31"             // ç»“æŸæ—¥æœŸï¼ˆå¯é€‰ï¼‰
    }
  ]
}
```

### å®šæ—¶ä»»åŠ¡

```json
{
  "scheduler": {
    "enabled": true,                      // æ˜¯å¦å¯ç”¨
    "cron": "0 3 * * *",                 // Cron è¡¨è¾¾å¼
    "timezone": "Asia/Shanghai"           // æ—¶åŒº
  }
}
```

#### Cron è¡¨è¾¾å¼é€ŸæŸ¥

| è¡¨è¾¾å¼ | è¯´æ˜ |
|--------|------|
| `0 * * * *` | æ¯å°æ—¶æ‰§è¡Œ |
| `0 */6 * * *` | æ¯ 6 å°æ—¶æ‰§è¡Œ |
| `0 2 * * *` | æ¯å¤© 2:00 æ‰§è¡Œ |
| `0 0 * * 0` | æ¯å‘¨æ—¥ 0:00 æ‰§è¡Œ |
| `0 0 1 * *` | æ¯æœˆ 1 å· 0:00 æ‰§è¡Œ |

### å­˜å‚¨é…ç½®

```json
{
  "storage": {
    "databasePath": "./data/pixiv-downloader.db",
    "downloadDirectory": "./downloads",
    "illustrationDirectory": "./downloads/illustrations",
    "novelDirectory": "./downloads/novels",
    "illustrationOrganization": "byAuthorAndTag",
    "novelOrganization": "byDateAndAuthor"
  }
}
```

#### ç›®å½•ç»„ç»‡æ–¹å¼

| æ¨¡å¼ | è¯´æ˜ | ç›®å½•ç»“æ„ç¤ºä¾‹ |
|------|------|-------------|
| `flat` | æ‰å¹³ç»“æ„ï¼ˆé»˜è®¤ï¼‰ | `illustrations/123456_æ ‡é¢˜_1.jpg` |
| `byAuthor` | æŒ‰ä½œè€…ç»„ç»‡ | `illustrations/ä½œè€…å/123456_æ ‡é¢˜_1.jpg` |
| `byTag` | æŒ‰æ ‡ç­¾ç»„ç»‡ | `illustrations/æ ‡ç­¾å/123456_æ ‡é¢˜_1.jpg` |
| `byDate` | æŒ‰æ—¥æœŸç»„ç»‡ | `illustrations/2024-12/123456_æ ‡é¢˜_1.jpg` |
| `byAuthorAndTag` | æŒ‰ä½œè€…å’Œæ ‡ç­¾ | `illustrations/ä½œè€…å/æ ‡ç­¾å/123456_æ ‡é¢˜_1.jpg` |
| `byDateAndAuthor` | æŒ‰æ—¥æœŸå’Œä½œè€… | `illustrations/2024-12/ä½œè€…å/123456_æ ‡é¢˜_1.jpg` |

> ğŸ’¡ **æç¤º**ï¼šä½¿ç”¨ç»„ç»‡æ¨¡å¼å¯ä»¥è®©ä¸‹è½½çš„æ–‡ä»¶æ›´æœ‰æ¡ç†ï¼Œä¾¿äºç®¡ç†å’ŒæŸ¥æ‰¾ã€‚

**å®Œæ•´é…ç½®è¯´æ˜**ï¼šæŸ¥çœ‹ [é…ç½®æŒ‡å—](STANDALONE-SETUP-GUIDE.md) å’Œ [é…ç½®æ–‡ä»¶ä½¿ç”¨æŒ‡å—](CONFIG_GUIDE.md)

---

## ğŸ› å¸¸è§é—®é¢˜

### â“ é…ç½®å‘å¯¼ç™»å½•å¤±è´¥ï¼Ÿ

**ç—‡çŠ¶**ï¼šè¿è¡Œ `npm run setup` åç™»å½•å¤±è´¥

**è§£å†³æ–¹æ³•**ï¼š
1. ç¡®è®¤åœ¨ç»ˆç«¯æ­£ç¡®è¾“å…¥äº† Pixiv ç”¨æˆ·åå’Œå¯†ç 
2. æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œä»£ç†è®¾ç½®
3. é‡æ–°è¿è¡Œé…ç½®å‘å¯¼ï¼š`npm run setup`

---

### â“ è®¤è¯å¤±è´¥æˆ– Token è¿‡æœŸï¼Ÿ

**ç—‡çŠ¶**ï¼šä¸‹è½½æ—¶æç¤º "è®¤è¯å¤±è´¥" æˆ– "401 Unauthorized"

**è§£å†³æ–¹æ³•**ï¼š

```bash
# æ–¹æ³• 1ï¼šä½¿ç”¨ç™»å½•è„šæœ¬ï¼ˆæ¨èï¼Œæœ€ç®€å•ï¼‰
npm run login

# æ–¹æ³• 2ï¼šé‡æ–°è¿è¡Œé…ç½®å‘å¯¼
./scripts/easy-setup.sh
# æˆ–
npm run setup
```

---

### â“ æ‰¾ä¸åˆ°åŒ¹é…çš„ä½œå“ï¼Ÿ

**ç—‡çŠ¶**ï¼šæœç´¢ç»“æœä¸ºç©ºæˆ–ä¸‹è½½æ•°é‡ä¸º 0

**å¯èƒ½åŸå› **ï¼š
- æ ‡ç­¾æ‹¼å†™é”™è¯¯æˆ–ä¸å­˜åœ¨
- ç­›é€‰æ¡ä»¶è¿‡äºä¸¥æ ¼
- ç½‘ç»œè¿æ¥é—®é¢˜

**è§£å†³æ–¹æ³•**ï¼š
1. å°è¯•å¸¸è§æ ‡ç­¾ï¼š`ã‚¤ãƒ©ã‚¹ãƒˆ`ã€`é¢¨æ™¯`ã€`art`
2. é™ä½ `minBookmarks` å€¼
3. æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®
4. åœ¨ Pixiv ç½‘ç«™ä¸Šæœç´¢ç¡®è®¤æ ‡ç­¾å­˜åœ¨

---

### â“ å®šæ—¶ä»»åŠ¡æ²¡æœ‰è¿è¡Œï¼Ÿ

**ç—‡çŠ¶**ï¼šè®¾ç½®äº†å®šæ—¶ä»»åŠ¡ä½†æ²¡æœ‰è‡ªåŠ¨ä¸‹è½½

**è§£å†³æ–¹æ³•**ï¼š

```bash
# 1. æ£€æŸ¥é…ç½®
./scripts/config-manager.sh validate

# 2. æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
./scripts/pixiv.sh status

# 3. æ£€æŸ¥æ—¥å¿—
./scripts/pixiv.sh logs

# 4. ç¡®ä¿ç¨‹åºæŒç»­è¿è¡Œ
# ä½¿ç”¨ PM2 ç®¡ç†è¿›ç¨‹
pm2 start "npm run scheduler" --name pixivflow
pm2 save
pm2 startup
```

---

### â“ ä¸‹è½½é€Ÿåº¦æ…¢æˆ–ç»å¸¸å¤±è´¥ï¼Ÿ

**å¯èƒ½åŸå› **ï¼šç½‘ç»œè¿æ¥ä¸ç¨³å®šæˆ– Pixiv æœåŠ¡å™¨é™æµ

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. å‡å°‘å¹¶å‘ä¸‹è½½æ•°é‡
3. å¢åŠ é‡è¯•æ¬¡æ•°å’Œè¶…æ—¶æ—¶é—´
4. ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ï¼ˆå¦‚æœéœ€è¦ï¼‰

---

### â“ é‡åˆ°å·²åˆ é™¤æˆ–ç§æœ‰çš„ä½œå“ï¼Ÿ

**ç—‡çŠ¶**ï¼šä¸‹è½½è¿‡ç¨‹ä¸­æç¤ºæŸäº›ä½œå“æ— æ³•ä¸‹è½½

**è¯´æ˜**ï¼š
PixivFlow å†…ç½®äº†å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä¼šè‡ªåŠ¨å¤„ç†ä»¥ä¸‹æƒ…å†µï¼š

- âœ… **è‡ªåŠ¨è·³è¿‡å·²åˆ é™¤ä½œå“**ï¼šå¦‚æœä½œå“å·²è¢«ä½œè€…åˆ é™¤ï¼Œä¼šè‡ªåŠ¨è·³è¿‡å¹¶ç»§ç»­ä¸‹è½½å…¶ä»–ä½œå“
- âœ… **è‡ªåŠ¨è·³è¿‡ç§æœ‰ä½œå“**ï¼šå¦‚æœä½œå“è®¾ç½®ä¸ºç§æœ‰æˆ–éœ€è¦ç‰¹æ®Šæƒé™ï¼Œä¼šè‡ªåŠ¨è·³è¿‡
- âœ… **è‡ªåŠ¨è·³è¿‡æ— æ³•è®¿é—®çš„ä½œå“**ï¼šå¦‚æœä½œå“å› å…¶ä»–åŸå› æ— æ³•è®¿é—®ï¼ˆå¦‚ 404 é”™è¯¯ï¼‰ï¼Œä¼šè‡ªåŠ¨è·³è¿‡
- âœ… **è®°å½•è·³è¿‡æ•°é‡**ï¼šåœ¨ä¸‹è½½å®Œæˆåä¼šæ˜¾ç¤ºè·³è¿‡çš„ä½œå“æ•°é‡
- âœ… **ä¸ä¼šä¸­æ–­æµç¨‹**ï¼šå•ä¸ªä½œå“ä¸‹è½½å¤±è´¥ä¸ä¼šå½±å“æ•´ä¸ªä¸‹è½½ä»»åŠ¡

**æ—¥å¿—ç¤ºä¾‹**ï¼š

```
[INFO] Skipped 3 novel(s) (deleted, private, or inaccessible)
[INFO] Illustration tag é¢¨æ™¯ completed, { downloaded: 47 }
```

**è¯´æ˜**ï¼š
- 404 é”™è¯¯ä¼šä½¿ç”¨ `debug` çº§åˆ«æ—¥å¿—ï¼ˆé™é»˜è·³è¿‡ï¼‰
- å…¶ä»–é”™è¯¯ä¼šä½¿ç”¨ `warn` çº§åˆ«æ—¥å¿—ï¼ˆè®°å½•ä½†ç»§ç»­ï¼‰
- æ‰€æœ‰è·³è¿‡çš„ä½œå“æ•°é‡ä¼šåœ¨ä»»åŠ¡ç»“æŸæ—¶ç»Ÿä¸€æ˜¾ç¤º

---

### ğŸ” æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

```bash
# æŸ¥çœ‹è¿è¡Œæ—¥å¿—
./scripts/pixiv.sh logs

# æˆ–ç›´æ¥æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
tail -f data/pixiv-downloader.log
```

---

## ğŸ”’ å®‰å…¨æç¤º

> âš ï¸ **é‡è¦**ï¼šé…ç½®æ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œè¯·åŠ¡å¿…æ³¨æ„å®‰å…¨

### ğŸ›¡ï¸ å®‰å…¨å»ºè®®

| å»ºè®® | è¯´æ˜ |
|------|------|
| âœ… **ä¸è¦åˆ†äº«é…ç½®æ–‡ä»¶** | `config/standalone.config.json` åŒ…å«æ•æ„Ÿè®¤è¯ä¿¡æ¯ |
| âœ… **ä¸è¦æäº¤åˆ° Git** | ç¡®ä¿é…ç½®æ–‡ä»¶åœ¨ `.gitignore` ä¸­ï¼ˆå·²é»˜è®¤æ’é™¤ï¼‰ |
| âœ… **å®šæœŸå¤‡ä»½** | ä½¿ç”¨ `./scripts/auto-backup.sh` å¤‡ä»½é…ç½®å’Œæ•°æ® |
| âœ… **ä½¿ç”¨å¼ºå¯†ç ** | ä¿æŠ¤ä½ çš„ Pixiv è´¦å· |
| âœ… **HTTPS åŠ å¯†** | æ‰€æœ‰ API è¯·æ±‚å‡é€šè¿‡ HTTPS å®‰å…¨ä¼ è¾“ |
| âœ… **å®šæœŸæ›´æ–° Token** | å®šæœŸé‡æ–°è¿è¡Œé…ç½®å‘å¯¼æ›´æ–°è®¤è¯ä¿¡æ¯ |

### ğŸ” å…³äº refresh_token

`refresh_token` ç­‰åŒäºä½ çš„è´¦å·å¯†ç ï¼Œæ‹¥æœ‰å®ƒå³å¯è®¿é—®ä½ çš„ Pixiv è´¦æˆ·ã€‚

**å¦‚æœ refresh_token æ³„éœ²ï¼š**
1. ç«‹å³åœ¨ Pixiv è´¦æˆ·è®¾ç½®ä¸­æ’¤é”€æˆæƒ
2. ä¿®æ”¹ Pixiv è´¦æˆ·å¯†ç 
3. é‡æ–°è¿è¡Œé…ç½®å‘å¯¼è·å–æ–°çš„ token

---

## ğŸ“Š ä¸‹è½½è®°å½•ç®¡ç†

æ‰€æœ‰ä¸‹è½½è®°å½•ä¿å­˜åœ¨ SQLite æ•°æ®åº“ä¸­ï¼ˆ`data/pixiv-downloader.db`ï¼‰ï¼ŒåŒ…æ‹¬ï¼š

- ä½œå“ IDã€æ ‡é¢˜ã€ä½œè€…ä¿¡æ¯
- ä¸‹è½½æ—¶é—´ã€æ–‡ä»¶è·¯å¾„
- ä½œå“ç»Ÿè®¡ï¼ˆæµè§ˆé‡ã€æ”¶è—æ•°ç­‰ï¼‰

### æŸ¥çœ‹ä¸‹è½½è®°å½•

```bash
# ä½¿ç”¨ SQLite å‘½ä»¤è¡Œå·¥å…·
sqlite3 data/pixiv-downloader.db "SELECT * FROM downloaded_artworks LIMIT 10;"

# æˆ–ä½¿ç”¨å›¾å½¢ç•Œé¢å·¥å…·
# - DB Browser for SQLite
# - SQLiteStudio
```

### æ¸…ç†ä¸‹è½½è®°å½•

```bash
# ä½¿ç”¨ç»´æŠ¤è„šæœ¬ï¼ˆæ¨èï¼‰
./scripts/auto-maintain.sh

# æˆ–æ‰‹åŠ¨åˆ é™¤æ•°æ®åº“ï¼ˆä¼šé‡æ–°ä¸‹è½½æ‰€æœ‰ä½œå“ï¼‰
rm data/pixiv-downloader.db
```

---

## ğŸš€ è¿›é˜¶ä½¿ç”¨

### åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²

#### æ–¹å¼ 1ï¼šä½¿ç”¨è‡ªåŠ¨éƒ¨ç½²è„šæœ¬

```bash
./scripts/auto-deploy.sh
```

#### æ–¹å¼ 2ï¼šä½¿ç”¨ PM2 ç®¡ç†

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨å®šæ—¶ä»»åŠ¡
pm2 start "npm run scheduler" --name pixivflow

# ä¿å­˜ PM2 é…ç½®
pm2 save

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
```

#### æ–¹å¼ 3ï¼šä½¿ç”¨ systemd

åˆ›å»ºæœåŠ¡æ–‡ä»¶ `/etc/systemd/system/pixivflow.service`ï¼š

```ini
[Unit]
Description=PixivFlow Automation Downloader
After=network.target

[Service]
Type=simple
User=your-username
WorkingDirectory=/path/to/pixivflow
ExecStart=/usr/bin/node dist/index.js scheduler
Restart=on-failure
RestartSec=10

[Install]
WantedBy=multi-user.target
```

å¯åŠ¨æœåŠ¡ï¼š

```bash
sudo systemctl enable pixivflow
sudo systemctl start pixivflow
sudo systemctl status pixivflow
```

---

### é…ç½®å¤šä¸ªä¸‹è½½ä»»åŠ¡

å¯ä»¥åœ¨ `targets` æ•°ç»„ä¸­æ·»åŠ å¤šä¸ªç›®æ ‡ï¼š

```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "é¢¨æ™¯",
      "limit": 50
    },
    {
      "type": "illustration",
      "tag": "ã‚¤ãƒ©ã‚¹ãƒˆ",
      "limit": 30,
      "minBookmarks": 1000
    },
    {
      "type": "novel",
      "tag": "å°èª¬",
      "limit": 10
    }
  ]
}
```

---

### ä½¿ç”¨ä»£ç†

å¦‚æœéœ€è¦é€šè¿‡ä»£ç†è®¿é—® Pixivï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š

#### æ–¹å¼ 1ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆæ¨è â­ï¼‰

ç¨‹åºä¼šè‡ªåŠ¨ä»ç¯å¢ƒå˜é‡è¯»å–ä»£ç†é…ç½®ï¼Œæ— éœ€ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š

```bash
# è®¾ç½®ä»£ç†ç¯å¢ƒå˜é‡ï¼ˆä¼˜å…ˆçº§ï¼šall_proxy > https_proxy > http_proxyï¼‰
export all_proxy=socks5://127.0.0.1:6153
# æˆ–
export https_proxy=http://127.0.0.1:6152
# æˆ–
export http_proxy=http://127.0.0.1:6152

# ç„¶åè¿è¡Œç¨‹åº
npm run download
```

**æ”¯æŒçš„ä»£ç†åè®®**ï¼š
- `http://` - HTTP ä»£ç†
- `https://` - HTTPS ä»£ç†
- `socks5://` - SOCKS5 ä»£ç†
- `socks4://` - SOCKS4 ä»£ç†

**ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§**ï¼š
1. `all_proxy` æˆ– `ALL_PROXY`ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
2. `https_proxy` æˆ– `HTTPS_PROXY`
3. `http_proxy` æˆ– `HTTP_PROXY`

#### æ–¹å¼ 2ï¼šé…ç½®æ–‡ä»¶è®¾ç½®

```json
{
  "network": {
    "proxy": {
      "enabled": true,
      "host": "127.0.0.1",
      "port": 7890,
      "protocol": "http"
    }
  }
}
```

**æ³¨æ„**ï¼šå¦‚æœé…ç½®æ–‡ä»¶ä¸­å·²å¯ç”¨ä»£ç†ï¼Œç¯å¢ƒå˜é‡ä¸ä¼šè¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„è®¾ç½®ã€‚

**å¸¸è§ä»£ç†é…ç½®**ï¼š

| ä»£ç†è½¯ä»¶ | åè®® | åœ°å€ | ç«¯å£ |
|---------|------|------|------|
| Clash | HTTP | `127.0.0.1` | `7890` |
| V2Ray | HTTP | `127.0.0.1` | `10809` |
| Shadowsocks | SOCKS5 | `127.0.0.1` | `1080` |

---

## ğŸ“„ å¼€æºè®¸å¯

æœ¬é¡¹ç›®é‡‡ç”¨ [GPL-3.0-or-later](LICENSE) è®¸å¯è¯å¼€æºã€‚

**è¿™æ„å‘³ç€ï¼š**
- âœ… å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘
- âœ… ä¿®æ”¹åçš„ä»£ç ä¹Ÿå¿…é¡»å¼€æº
- âœ… éœ€è¦ä¿ç•™åŸä½œè€…ä¿¡æ¯å’Œè®¸å¯è¯å£°æ˜

---

## ğŸ™ è‡´è°¢

### çµæ„Ÿæ¥æº

- [PixivBatchDownloader](https://github.com/xuejianxianzun/PixivBatchDownloader) - æµè§ˆå™¨æ‰©å±•ç‰ˆæœ¬
- [get-pixivpy-token](https://github.com/eggplants/get-pixivpy-token) - OAuth è®¤è¯å®ç°å‚è€ƒ

### æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€… ğŸ‰

---

## ğŸ“® è·å–å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿè¿™é‡Œæœ‰å¤šç§æ–¹å¼è·å–å¸®åŠ©ï¼š

| ç±»å‹ | æ¸ é“ | è¯´æ˜ |
|------|------|------|
| ğŸ› **Bug åé¦ˆ** | [GitHub Issues](https://github.com/zoidberg-xgd/pixivflow/issues) | æŠ¥å‘Šé—®é¢˜å’Œé”™è¯¯ |
| ğŸ’¡ **åŠŸèƒ½å»ºè®®** | [GitHub Discussions](https://github.com/zoidberg-xgd/pixivflow/discussions) | æå‡ºæ–°åŠŸèƒ½æƒ³æ³• |
| ğŸ“– **ä½¿ç”¨é—®é¢˜** | [æŸ¥çœ‹æ–‡æ¡£](./START_HERE.md) | æŸ¥é˜…å®Œæ•´æ–‡æ¡£ |
| âœ… **ç¯å¢ƒæ£€æŸ¥** | `./scripts/pixiv.sh health` | è¿è¡Œå¥åº·æ£€æŸ¥ |
| ğŸ’¬ **ç¤¾åŒºäº¤æµ** | [Discussions](https://github.com/zoidberg-xgd/pixivflow/discussions) | ä¸å…¶ä»–ç”¨æˆ·äº¤æµ |
| ğŸ“š **å®Œæ•´æ•™ç¨‹** | [TUTORIAL.md](./TUTORIAL.md) | è¯¦ç»†ä½¿ç”¨æ•™ç¨‹ |
| ğŸ” **å¸¸è§é—®é¢˜** | [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜) | æŸ¥çœ‹å¸¸è§é—®é¢˜è§£ç­” |

### æœç´¢å…³é”®è¯

å¦‚æœä½ åœ¨å¯»æ‰¾ç±»ä¼¼å·¥å…·ï¼Œè¿™äº›å…³é”®è¯å¯èƒ½å¯¹ä½ æœ‰å¸®åŠ©ï¼š

- `pixiv downloader` - Pixiv ä¸‹è½½å™¨
- `pixiv batch download` - Pixiv æ‰¹é‡ä¸‹è½½
- `pixiv automation` - Pixiv è‡ªåŠ¨åŒ–
- `pixiv cli` - Pixiv å‘½ä»¤è¡Œå·¥å…·
- `pixiv api` - Pixiv API å®¢æˆ·ç«¯
- `pixiv scheduler` - Pixiv å®šæ—¶ä»»åŠ¡
- `pixiv artwork downloader` - Pixiv ä½œå“ä¸‹è½½å™¨
- `pixiv novel downloader` - Pixiv å°è¯´ä¸‹è½½å™¨

### æé—®å‰è¯·å…ˆï¼š

1. ğŸ” æŸ¥çœ‹ [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜) ç« èŠ‚
2. ğŸ“– é˜…è¯»ç›¸å…³æ–‡æ¡£
3. âœ… è¿è¡Œå¥åº·æ£€æŸ¥ `./scripts/health-check.sh`
4. ğŸ“‹ æŸ¥çœ‹è¿è¡Œæ—¥å¿— `./scripts/pixiv.sh logs`

---

## ğŸ“ˆ é¡¹ç›®ç»Ÿè®¡

<div align="center">

### é¡¹ç›®æ•°æ®

![GitHub repo size](https://img.shields.io/github/repo-size/zoidberg-xgd/pixivflow?style=flat-square)
![GitHub language count](https://img.shields.io/github/languages/count/zoidberg-xgd/pixivflow?style=flat-square)
![GitHub top language](https://img.shields.io/github/languages/top/zoidberg-xgd/pixivflow?style=flat-square)
![GitHub last commit](https://img.shields.io/github/last-commit/zoidberg-xgd/pixivflow?style=flat-square)

</div>

### æ€§èƒ½æŒ‡æ ‡

- âš¡ **å¯åŠ¨é€Ÿåº¦**ï¼š< 2 ç§’
- ğŸ“¦ **åŒ…å¤§å°**ï¼š< 5 MBï¼ˆä¸å«ä¾èµ–ï¼‰
- ğŸ’¾ **å†…å­˜å ç”¨**ï¼š< 100 MBï¼ˆè¿è¡Œæ—¶ï¼‰
- ğŸ”„ **ä¸‹è½½é€Ÿåº¦**ï¼šæ”¯æŒå¹¶å‘ä¸‹è½½ï¼Œè‡ªåŠ¨é™æµ
- ğŸ“Š **æ•°æ®åº“**ï¼šSQLiteï¼Œè½»é‡çº§ï¼Œæ— éœ€é¢å¤–æœåŠ¡

---

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼æ— è®ºæ˜¯æŠ¥å‘Š Bugã€æå‡ºåŠŸèƒ½å»ºè®®ï¼Œè¿˜æ˜¯æäº¤ä»£ç ï¼Œéƒ½éå¸¸æ„Ÿè°¢ã€‚

### å¦‚ä½•è´¡çŒ®

1. **Fork é¡¹ç›®**
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯** (`git checkout -b feature/AmazingFeature`)
3. **æäº¤æ›´æ”¹** (`git commit -m 'Add some AmazingFeature'`)
4. **æ¨é€åˆ°åˆ†æ”¯** (`git push origin feature/AmazingFeature`)
5. **å¼€å¯ Pull Request**

### è´¡çŒ®æŒ‡å—

è¯¦ç»†çš„è´¡çŒ®æŒ‡å—è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md)ï¼ŒåŒ…å«ï¼š
- è¡Œä¸ºå‡†åˆ™
- å¼€å‘ç¯å¢ƒè®¾ç½®
- ä»£ç è§„èŒƒ
- æäº¤è§„èŒƒ
- Pull Request æµç¨‹

---

## ğŸ“ æ›´æ–°æ—¥å¿—

æŸ¥çœ‹ [CHANGELOG.md](CHANGELOG.md) äº†è§£è¯¦ç»†çš„ç‰ˆæœ¬æ›´æ–°è®°å½•ã€‚

---

## æ”¯æŒé¡¹ç›®

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ï¼š

- â­ **ç»™é¡¹ç›®ä¸€ä¸ª Star** - è®©æ›´å¤šäººå‘ç°è¿™ä¸ªé¡¹ç›®
- ğŸ´ **Fork é¡¹ç›®** - åˆ›å»ºä½ è‡ªå·±çš„ç‰ˆæœ¬
- ğŸ› **æŠ¥å‘Š Bug** - å¸®åŠ©æˆ‘ä»¬æ”¹è¿›
- ğŸ’¡ **æå‡ºå»ºè®®** - åˆ†äº«ä½ çš„æƒ³æ³•
- ğŸ“¢ **åˆ†äº«ç»™æ›´å¤šäºº** - è®©æ›´å¤šäººå—ç›Š
- ğŸ’» **è´¡çŒ®ä»£ç ** - å‚ä¸é¡¹ç›®å¼€å‘

<div align="center">

### â­ Star è¿™ä¸ªé¡¹ç›®

**[â­ Star on GitHub](https://github.com/zoidberg-xgd/pixivflow)** - è®©æ›´å¤šäººå‘ç° PixivFlowï¼

---

Made with â¤ï¸ by [zoidberg-xgd](https://github.com/zoidberg-xgd)

**PixivFlow** - è®© Pixiv ä½œå“æ”¶é›†å˜å¾—ä¼˜é›…è€Œé«˜æ•ˆ

[â¬† å›åˆ°é¡¶éƒ¨](#-pixivflow)

</div>

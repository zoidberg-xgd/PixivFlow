# ğŸ¨ PixivFlow

<div align="center">

**æ™ºèƒ½çš„ Pixiv è‡ªåŠ¨åŒ–ä¸‹è½½å·¥å…· | Intelligent Pixiv Automation Downloader**

è®© Pixiv ä½œå“æ”¶é›†å˜å¾—ä¼˜é›…è€Œé«˜æ•ˆ | Make Pixiv artwork collection elegant and efficient

[![GitHub stars](https://img.shields.io/github/stars/zoidberg-xgd/pixivflow?style=for-the-badge&logo=github)](https://github.com/zoidberg-xgd/pixivflow/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/zoidberg-xgd/pixivflow?style=for-the-badge&logo=github)](https://github.com/zoidberg-xgd/pixivflow/network/members)
[![GitHub issues](https://img.shields.io/github/issues/zoidberg-xgd/pixivflow?style=for-the-badge&logo=github)](https://github.com/zoidberg-xgd/pixivflow/issues)
[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg?style=for-the-badge)](https://www.gnu.org/licenses/gpl-3.0)

[![TypeScript](https://img.shields.io/badge/TypeScript-5.6+-blue.svg?style=flat-square&logo=typescript)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg?style=flat-square&logo=node.js)](https://nodejs.org/)
[![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20macOS%20%7C%20Linux-lightgrey.svg?style=flat-square)](https://github.com/zoidberg-xgd/pixivflow)
[![Maintenance](https://img.shields.io/badge/Maintained-yes-green.svg?style=flat-square)](https://github.com/zoidberg-xgd/pixivflow/graphs/commit-activity)

[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [æ–‡æ¡£](#-æ–‡æ¡£å¯¼èˆª) â€¢ [è„šæœ¬å·¥å…·](#-è„šæœ¬å·¥å…·) â€¢ [ä½¿ç”¨åœºæ™¯](#-ä½¿ç”¨åœºæ™¯)

[English](README_EN.md) | [ä¸­æ–‡](#)

</div>

---

## ğŸ“‘ ç›®å½•

<details>
<summary><b>ç‚¹å‡»å±•å¼€å®Œæ•´ç›®å½•</b></summary>

<br>

**å…¥é—¨æŒ‡å—**
- [ğŸ’¡ ä»€ä¹ˆæ˜¯ PixivFlowï¼Ÿ](#-ä»€ä¹ˆæ˜¯-pixivflow)
  - [ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹© PixivFlowï¼Ÿ](#-ä¸ºä»€ä¹ˆé€‰æ‹©-pixivflow)
  - [ğŸ¯ æ ¸å¿ƒç†å¿µ](#-æ ¸å¿ƒç†å¿µ)
- [âœ¨ åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
  - [ğŸš€ æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
  - [ğŸ é¢å¤–ä¼˜åŠ¿](#-é¢å¤–ä¼˜åŠ¿)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
  - [ğŸ“‹ ç¯å¢ƒè¦æ±‚](#-ç¯å¢ƒè¦æ±‚)
  - [ğŸ¬ å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èï¼‰](#-å¿«é€Ÿå¼€å§‹æ¨è)
  - [ğŸ¯ æ‰‹åŠ¨é…ç½®æ–¹å¼](#-æ‰‹åŠ¨é…ç½®æ–¹å¼)
  - [ğŸŒ ä½¿ç”¨ WebUIï¼ˆå¯é€‰ï¼‰](#-ä½¿ç”¨-webuiå¯é€‰)

**å·¥å…·ä¸æ–‡æ¡£**
- [ğŸ› ï¸ è„šæœ¬å·¥å…·](#ï¸-è„šæœ¬å·¥å…·)
  - [ğŸ¯ ä¸»æ§åˆ¶è„šæœ¬ï¼ˆæœ€å¸¸ç”¨ï¼‰](#-ä¸»æ§åˆ¶è„šæœ¬æœ€å¸¸ç”¨)
  - [ğŸ” ç™»å½•ç®¡ç†](#-ç™»å½•ç®¡ç†)
  - [âš™ï¸ é…ç½®ç®¡ç†](#ï¸-é…ç½®ç®¡ç†)
  - [ğŸ“Š ç›‘æ§ä¸ç»´æŠ¤](#-ç›‘æ§ä¸ç»´æŠ¤)
  - [ğŸš€ éƒ¨ç½²ä¸å¤‡ä»½](#-éƒ¨ç½²ä¸å¤‡ä»½)
  - [ğŸ³ Docker ç®¡ç†](#-docker-ç®¡ç†)
  - [ğŸ¨ é«˜çº§ CLI å·¥å…·](#-é«˜çº§-cli-å·¥å…·)
- [ğŸ“š æ–‡æ¡£å¯¼èˆª](#-æ–‡æ¡£å¯¼èˆª)
  - [ğŸŒŸ æ–°æ‰‹å¿…è¯»](#-æ–°æ‰‹å¿…è¯»)
  - [ğŸ“˜ è¿›é˜¶æ–‡æ¡£](#-è¿›é˜¶æ–‡æ¡£)
  - [ğŸ“„ é¡¹ç›®æ–‡æ¡£](#-é¡¹ç›®æ–‡æ¡£)

**ä½¿ç”¨ä¸é…ç½®**
- [ğŸ¯ ä½¿ç”¨åœºæ™¯](#-ä½¿ç”¨åœºæ™¯)
  - [åœºæ™¯ä¸€ï¼šæ¯æ—¥è‡ªåŠ¨æ”¶é›†çµæ„Ÿç´ æ](#åœºæ™¯ä¸€æ¯æ—¥è‡ªåŠ¨æ”¶é›†çµæ„Ÿç´ æ)
  - [åœºæ™¯äºŒï¼šæœåŠ¡å™¨å®šæ—¶æ”¶é›†ç‰¹å®šæ ‡ç­¾](#åœºæ™¯äºŒæœåŠ¡å™¨å®šæ—¶æ”¶é›†ç‰¹å®šæ ‡ç­¾)
  - [åœºæ™¯ä¸‰ï¼šå¿«é€Ÿä½“éªŒ](#åœºæ™¯ä¸‰å¿«é€Ÿä½“éªŒ---éšæœºä¸‹è½½)
  - [åœºæ™¯å››ï¼šä¸€æ¬¡æ€§æ‰¹é‡ä¸‹è½½](#åœºæ™¯å››ä¸€æ¬¡æ€§æ‰¹é‡ä¸‹è½½)
- [ğŸ“ é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [âš™ï¸ æ ¸å¿ƒé…ç½®](#ï¸-æ ¸å¿ƒé…ç½®)
  - [è®¤è¯é…ç½®](#è®¤è¯é…ç½®)
  - [ä¸‹è½½ç›®æ ‡](#ä¸‹è½½ç›®æ ‡)
  - [å®šæ—¶ä»»åŠ¡](#å®šæ—¶ä»»åŠ¡)
  - [å­˜å‚¨é…ç½®](#å­˜å‚¨é…ç½®)

**æ•…éšœæ’é™¤ä¸è¿›é˜¶**
- [ğŸ› å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
  - [â“ é…ç½®å‘å¯¼ç™»å½•å¤±è´¥ï¼Ÿ](#-é…ç½®å‘å¯¼ç™»å½•å¤±è´¥)
  - [â“ è®¤è¯å¤±è´¥æˆ– Token è¿‡æœŸï¼Ÿ](#-è®¤è¯å¤±è´¥æˆ–-token-è¿‡æœŸ)
  - [â“ æ‰¾ä¸åˆ°åŒ¹é…çš„ä½œå“ï¼Ÿ](#-æ‰¾ä¸åˆ°åŒ¹é…çš„ä½œå“)
  - [â“ å®šæ—¶ä»»åŠ¡æ²¡æœ‰è¿è¡Œï¼Ÿ](#-å®šæ—¶ä»»åŠ¡æ²¡æœ‰è¿è¡Œ)
  - [â“ ä¸‹è½½é€Ÿåº¦æ…¢æˆ–é¢‘ç¹å¤±è´¥ï¼Ÿ](#-ä¸‹è½½é€Ÿåº¦æ…¢æˆ–é¢‘ç¹å¤±è´¥)
  - [â“ é‡åˆ°å·²åˆ é™¤æˆ–ç§æœ‰çš„ä½œå“ï¼Ÿ](#-é‡åˆ°å·²åˆ é™¤æˆ–ç§æœ‰çš„ä½œå“)
- [ğŸ”’ å®‰å…¨æç¤º](#-å®‰å…¨æç¤º)
- [ğŸ“Š ä¸‹è½½è®°å½•ç®¡ç†](#-ä¸‹è½½è®°å½•ç®¡ç†)
- [ğŸš€ è¿›é˜¶ä½¿ç”¨](#-è¿›é˜¶ä½¿ç”¨)
  - [éƒ¨ç½²åˆ°æœåŠ¡å™¨](#éƒ¨ç½²åˆ°æœåŠ¡å™¨)
  - [é…ç½®å¤šä¸ªä¸‹è½½ä»»åŠ¡](#é…ç½®å¤šä¸ªä¸‹è½½ä»»åŠ¡)
  - [ä½¿ç”¨ä»£ç†](#ä½¿ç”¨ä»£ç†)

**é¡¹ç›®ä¿¡æ¯**
- [ğŸ“„ å¼€æºè®¸å¯](#-å¼€æºè®¸å¯)
- [ğŸ™ è‡´è°¢](#-è‡´è°¢)
- [ğŸ“® è·å–å¸®åŠ©](#-è·å–å¸®åŠ©)
- [ğŸ“ˆ é¡¹ç›®ç»Ÿè®¡](#-é¡¹ç›®ç»Ÿè®¡)
- [ğŸ¤ è´¡çŒ®](#-è´¡çŒ®)
- [ğŸ“ æ›´æ–°æ—¥å¿—](#-æ›´æ–°æ—¥å¿—)
- [æ”¯æŒé¡¹ç›®](#æ”¯æŒé¡¹ç›®)

</details>

---

## ğŸ’¡ ä»€ä¹ˆæ˜¯ PixivFlowï¼Ÿ

**PixivFlow** æ˜¯ä¸€ä¸ª**å®Œå…¨ç‹¬ç«‹è¿è¡Œ**çš„ Pixiv ä½œå“æ‰¹é‡ä¸‹è½½å·¥å…·ï¼Œä¸“ä¸ºè‡ªåŠ¨åŒ–è®¾è®¡ã€‚æ— éœ€æµè§ˆå™¨æ‰©å±•ï¼Œå¯åœ¨å‘½ä»¤è¡Œæˆ–æœåŠ¡å™¨ä¸Šè‡ªåŠ¨åŒ–è¿è¡Œï¼Œæ”¯æŒå®šæ—¶ä»»åŠ¡ã€æ™ºèƒ½å»é‡ã€æ–­ç‚¹ç»­ä¼ ç­‰åŠŸèƒ½ã€‚

### ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹© PixivFlowï¼Ÿ

ä¸å…¶ä»– Pixiv ä¸‹è½½å·¥å…·ç›¸æ¯”ï¼ŒPixivFlow ä¸“æ³¨äº**è‡ªåŠ¨åŒ–**å’Œ**æœåŠ¡å™¨éƒ¨ç½²**åœºæ™¯ï¼š

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| ğŸš€ **å®Œå…¨ç‹¬ç«‹è¿è¡Œ** | æ— éœ€æµè§ˆå™¨æ‰©å±•ï¼Œçº¯å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯åœ¨ä»»ä½•ç¯å¢ƒè¿è¡Œï¼ˆæœåŠ¡å™¨ã€Dockerã€CI/CDï¼‰ |
| ğŸ¤– **çœŸæ­£çš„è‡ªåŠ¨åŒ–** | è®¾ç½®ä¸€æ¬¡ï¼Œæ°¸ä¹…è¿è¡Œã€‚æ”¯æŒ Cron å®šæ—¶ä»»åŠ¡ï¼Œæ— éœ€äººå·¥å¹²é¢„ |
| ğŸ–¥ï¸ **æœåŠ¡å™¨å‹å¥½** | ä¸“ä¸ºæœåŠ¡å™¨è®¾è®¡ï¼Œæ”¯æŒåå°è¿è¡Œã€è¿›ç¨‹ç®¡ç†ã€æ—¥å¿—è½®è½¬ |
| ğŸ” **å®‰å…¨å¯é ** | é‡‡ç”¨ OAuth 2.0 PKCE æ ‡å‡†æµç¨‹ï¼Œä¿éšœè´¦å·å®‰å…¨ï¼Œé¿å…å¯†ç æ³„éœ²é£é™© |
| ğŸ“¦ **è½»é‡çº§éƒ¨ç½²** | èµ„æºå ç”¨ä½ï¼Œæ— éœ€é¢å¤–æœåŠ¡ï¼ˆå¦‚æ•°æ®åº“ã€Redisï¼‰ï¼ŒSQLite å³å¯ |
| ğŸ› ï¸ **å¼€ç®±å³ç”¨** | ä¸°å¯Œçš„è„šæœ¬å·¥å…·å’Œé…ç½®å‘å¯¼ï¼Œ3 æ­¥å³å¯å¼€å§‹ä½¿ç”¨ |

### ğŸ¯ æ ¸å¿ƒç†å¿µ

- **è‡ªåŠ¨åŒ–ä¼˜å…ˆ**ï¼šè®¾ç½®ä¸€æ¬¡ï¼Œè‡ªåŠ¨è¿è¡Œï¼Œæ— éœ€äººå·¥å¹²é¢„
- **æ™ºèƒ½åŒ–ç®¡ç†**ï¼šè‡ªåŠ¨å»é‡ã€æ–­ç‚¹ç»­ä¼ ã€é”™è¯¯é‡è¯•
- **ç®€å•æ˜“ç”¨**ï¼š3 æ­¥å¼€å§‹ä½¿ç”¨ï¼Œé…ç½®å‘å¯¼å¼•å¯¼å®Œæˆ
- **å¼€ç®±å³ç”¨**ï¼šä¸°å¯Œçš„è„šæœ¬å·¥å…·ï¼Œæ— éœ€è®°å¿†å¤æ‚å‘½ä»¤

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| **ğŸ“¥ æ‰¹é‡ä¸‹è½½** | æ”¯æŒæ’ç”»å’Œå°è¯´æ‰¹é‡ä¸‹è½½ï¼Œå¯é…ç½®ä¸‹è½½æ•°é‡ã€ç­›é€‰æ¡ä»¶ |
| **ğŸ·ï¸ æ ‡ç­¾æœç´¢** | æŒ‰æ ‡ç­¾æœç´¢ä½œå“ï¼Œæ”¯æŒç²¾ç¡®åŒ¹é…ã€éƒ¨åˆ†åŒ¹é…ç­‰å¤šç§æ¨¡å¼ |
| **ğŸ² éšæœºä¸‹è½½** | ä¸€é”®ä¸‹è½½éšæœºçƒ­é—¨æ ‡ç­¾ä½œå“ï¼Œå¿«é€Ÿä½“éªŒå·¥å…·åŠŸèƒ½ |
| **â° å®šæ—¶ä»»åŠ¡** | Cron è¡¨è¾¾å¼é…ç½®ï¼Œæ”¯æŒæ¯å¤©ã€æ¯å‘¨ã€æ¯æœˆå®šæ—¶è‡ªåŠ¨ä¸‹è½½ |
| **ğŸ” æ™ºèƒ½ç­›é€‰** | æŒ‰æ”¶è—æ•°ã€æ—¥æœŸèŒƒå›´ã€ä½œå“ç±»å‹ç­‰å¤šç»´åº¦ç­›é€‰ |
| **ğŸŒ è¯­è¨€æ£€æµ‹** | è‡ªåŠ¨æ£€æµ‹å°è¯´è¯­è¨€ï¼Œæ”¯æŒæŒ‰è¯­è¨€è¿‡æ»¤ï¼ˆä»…ä¸­æ–‡/ä»…éä¸­æ–‡ï¼‰ |
| **ğŸ’¾ è‡ªåŠ¨å»é‡** | SQLite æ•°æ®åº“è®°å½•å†å²ï¼Œè‡ªåŠ¨è·³è¿‡å·²ä¸‹è½½ä½œå“ |
| **ğŸ”„ æ–­ç‚¹ç»­ä¼ ** | ä¸‹è½½ä¸­æ–­åè‡ªåŠ¨æ¢å¤ï¼Œæ— éœ€é‡æ–°å¼€å§‹ |
| **ğŸ›¡ï¸ é”™è¯¯å¤„ç†** | è‡ªåŠ¨é‡è¯•ã€é”™è¯¯æ¢å¤ã€æ™ºèƒ½è·³è¿‡å·²åˆ é™¤/ç§æœ‰ä½œå“ |
| **ğŸŒ WebUI ç®¡ç†** | ç°ä»£åŒ–çš„ Web ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒæ–‡ä»¶é¢„è§ˆã€å®æ—¶æ—¥å¿—ã€ä»»åŠ¡ç®¡ç† |
| **ğŸ“Š ç»Ÿè®¡æŠ¥å‘Š** | è¯¦ç»†çš„è¿è¡Œæ—¥å¿—å’Œä¸‹è½½ç»Ÿè®¡æŠ¥å‘Š |

### ğŸ é¢å¤–ä¼˜åŠ¿

- âœ… **å®Œå…¨ç‹¬ç«‹**ï¼šæ— éœ€æµè§ˆå™¨ï¼Œçº¯å‘½ä»¤è¡Œå·¥å…·
- âœ… **WebUI æ”¯æŒ**ï¼šæä¾›ç°ä»£åŒ–çš„ Web ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒå›¾å½¢åŒ–æ“ä½œ
- âœ… **è·¨å¹³å°æ”¯æŒ**ï¼šWindows (æ¨è WSL) / macOS / Linux å…¨å¹³å°æ”¯æŒ
- âœ… **è½»é‡çº§**ï¼šèµ„æºå ç”¨ä½ï¼Œé€‚åˆæœåŠ¡å™¨é•¿æœŸè¿è¡Œ
- âœ… **å¼€æºå…è´¹**ï¼šGPL-3.0 è®¸å¯è¯ï¼Œå¯è‡ªç”±å®šåˆ¶å’Œåˆ†å‘
- âœ… **ç±»å‹å®‰å…¨**ï¼šTypeScript ç¼–å†™ï¼Œç±»å‹æç¤ºå®Œå–„
- âœ… **æ–‡æ¡£å®Œå–„**ï¼šè¯¦ç»†çš„ä¸­æ–‡æ–‡æ¡£å’Œæ•™ç¨‹

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

**å¿…éœ€ç¯å¢ƒ**ï¼š
- Node.js 18+ å’Œ npm 9+
- ä¸€ä¸ª Pixiv è´¦å·

**ç™»å½•åŠŸèƒ½**ï¼ˆé¦–æ¬¡ç™»å½•éœ€è¦ï¼‰ï¼š
- Python 3.9+ å’Œ `gppt` åŒ…ï¼ˆ`pip install gppt`ï¼‰
  - ç”¨äºç™»å½•è·å– refresh token
  - å¦‚æœå·²æœ‰ refresh token ä¸”æœªè¿‡æœŸï¼Œåˆ™ä¸éœ€è¦é‡æ–°ç™»å½•

**Windows ç”¨æˆ·**ï¼š
- âš ï¸ **æ¨èä½¿ç”¨ WSL**ï¼šæœ¬é¡¹ç›®ä½¿ç”¨ bash è„šæœ¬ï¼Œåœ¨ Windows ä¸Šæ¨èä½¿ç”¨ WSL
  - å®‰è£…ï¼šåœ¨ PowerShell ä¸­è¿è¡Œ `wsl --install`
  - æˆ–ä½¿ç”¨ Git Bashï¼šå¦‚æœå·²å®‰è£… Git for Windowsï¼Œå¯ä»¥ä½¿ç”¨ Git Bash è¿è¡Œè„šæœ¬

> ğŸ“– **è¯¦ç»†è¯´æ˜**ï¼šæŸ¥çœ‹ [å¿«é€Ÿå¼€å§‹æŒ‡å—](docs/getting-started/QUICKSTART.md) æˆ– [æ–°æ‰‹å®Œæ•´æŒ‡å—](docs/getting-started/START_HERE.md)

### ğŸ¬ å¿«é€Ÿå¼€å§‹ï¼ˆ3 æ­¥å®Œæˆï¼‰

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. ç™»å½•è´¦å·
npm run login

# 3. å¼€å§‹ä¸‹è½½
npm run download
```

**æˆ–ä½¿ç”¨ä¸€é”®è„šæœ¬**ï¼š

```bash
# è‡ªåŠ¨å®Œæˆæ‰€æœ‰è®¾ç½®ï¼ˆç™»å½•ã€é…ç½®ã€æµ‹è¯•ï¼‰
./scripts/quick-start.sh
```

---

### ğŸŒ å…¨å±€å®‰è£…æ–¹å¼ï¼ˆæ¨è â­ï¼‰

å¦‚æœä½ æƒ³åœ¨ä»»ä½•ç›®å½•ä¸‹éƒ½èƒ½ä½¿ç”¨ `pixivflow` å‘½ä»¤ï¼Œå¯ä»¥å…¨å±€å®‰è£…ï¼š

#### æ–¹æ³•ä¸€ï¼šä»æœ¬åœ°ç›®å½•å…¨å±€å®‰è£…

```bash
# 1. å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®
git clone https://github.com/zoidberg-xgd/pixivflow.git
cd pixivflow

# 2. å®‰è£…ä¾èµ–
npm install

# 3. æ„å»ºé¡¹ç›®
npm run build

# 4. å…¨å±€å®‰è£…
npm install -g .
```

#### æ–¹æ³•äºŒï¼šä» GitHub ä»“åº“ç›´æ¥å®‰è£…

```bash
# ä» GitHub ä»“åº“å…¨å±€å®‰è£…
npm install -g git+https://github.com/zoidberg-xgd/pixivflow.git

# æ³¨æ„ï¼šå®‰è£…åéœ€è¦å…ˆæ„å»º
# æ‰¾åˆ°å…¨å±€å®‰è£…ç›®å½•ï¼ˆé€šå¸¸åœ¨ npm root -g çš„çˆ¶ç›®å½•/binï¼‰
# æˆ–é‡æ–°å®‰è£…å¹¶æŒ‡å®šæ„å»ºè„šæœ¬
```

#### éªŒè¯å…¨å±€å®‰è£…

å®‰è£…å®Œæˆåï¼Œå¯ä»¥åœ¨ä»»ä½•ç›®å½•ä½¿ç”¨ `pixivflow` å‘½ä»¤ï¼š

```bash
# æŸ¥çœ‹å¸®åŠ©
pixivflow --help

# æŸ¥çœ‹å®‰è£…ä½ç½®
which pixivflow

# ç™»å½•è´¦å·
pixivflow login

# æ‰§è¡Œä¸‹è½½
pixivflow download

# å¯åŠ¨å®šæ—¶ä»»åŠ¡
pixivflow scheduler
```

#### å…¨å±€å®‰è£…åçš„é…ç½®

å…¨å±€å®‰è£…åï¼Œé…ç½®æ–‡ä»¶ä½ç½®ï¼š
- é…ç½®æ–‡ä»¶ï¼š`~/.pixivflow/config/standalone.config.json`ï¼ˆå¦‚æœä½¿ç”¨é»˜è®¤è·¯å¾„ï¼‰
- æˆ–ä½¿ç”¨ `--config` å‚æ•°æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„

```bash
# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶
pixivflow download --config /path/to/config.json

# ç™»å½•ï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶ï¼‰
pixivflow login
```

#### æ›´æ–°å…¨å±€å®‰è£…

å¦‚æœéœ€è¦æ›´æ–°å…¨å±€å®‰è£…çš„ç‰ˆæœ¬ï¼š

```bash
# æ–¹æ³•ä¸€ï¼šé‡æ–°å®‰è£…ï¼ˆä»æœ¬åœ°ç›®å½•ï¼‰
cd /path/to/pixivflow
npm run build
npm install -g .

# æ–¹æ³•äºŒï¼šä» GitHub æ›´æ–°
npm install -g git+https://github.com/zoidberg-xgd/pixivflow.git
```

> **ğŸ’¡ æç¤º**ï¼š
> - å…¨å±€å®‰è£…åï¼Œå¯ä»¥åœ¨ä»»ä½•ç›®å½•ç›´æ¥ä½¿ç”¨ `pixivflow` å‘½ä»¤
> - é¦–æ¬¡ä½¿ç”¨éœ€è¦è¿è¡Œ `pixivflow login` è¿›è¡Œç™»å½•
> - é…ç½®æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ›å»ºåœ¨ç”¨æˆ·ä¸»ç›®å½•æˆ–é¡¹ç›®ç›®å½•

---

### ğŸ“– è¯¦ç»†æ­¥éª¤

å¦‚éœ€è¯¦ç»†çš„æ‰‹åŠ¨é…ç½®æ­¥éª¤ï¼Œè¯·æŸ¥çœ‹ï¼š
- [âš¡ å¿«é€Ÿå¼€å§‹æŒ‡å—](docs/getting-started/QUICKSTART.md) - 3 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹
- [ğŸ“– æ–°æ‰‹å®Œæ•´æŒ‡å—](docs/getting-started/START_HERE.md) - ä»é›¶å¼€å§‹çš„è¯¦ç»†æ•™ç¨‹
- [ğŸ” ç™»å½•æŒ‡å—](docs/guides/LOGIN_GUIDE.md) - ç™»å½•æµç¨‹è¯¦è§£

---

### ğŸŒ ä½¿ç”¨ WebUIï¼ˆå¯é€‰ï¼‰

PixivFlow è¿˜æä¾›äº†ç°ä»£åŒ–çš„ Web ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒå›¾å½¢åŒ–æ“ä½œï¼š

**å¼€å‘æ¨¡å¼ï¼ˆå‰åç«¯åˆ†ç¦»ï¼‰ï¼š**
```bash
# 1. å¯åŠ¨ WebUI åç«¯
npm run webui

# 2. åœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
npm run webui:frontend
```

ç„¶åè®¿é—® http://localhost:5173 å³å¯ä½¿ç”¨ WebUIï¼ˆå‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼‰ã€‚

**ç”Ÿäº§æ¨¡å¼ï¼ˆå•æœåŠ¡å™¨ï¼‰ï¼š**
```bash
# 1. æ„å»ºå‰ç«¯
npm run webui:build

# 2. å¯åŠ¨ WebUIï¼ˆè‡ªåŠ¨æä¾›å‰ç«¯é™æ€æ–‡ä»¶ï¼‰
STATIC_PATH=webui-frontend/dist npm run webui
```

ç„¶åè®¿é—® http://localhost:3000 å³å¯ä½¿ç”¨ WebUIï¼ˆåç«¯æœåŠ¡å™¨ï¼‰ã€‚

> **æ³¨æ„**ï¼š
> - å¼€å‘æ¨¡å¼ä½¿ç”¨ Vite å¼€å‘æœåŠ¡å™¨ï¼ˆç«¯å£ 5173ï¼‰ï¼Œç”Ÿäº§æ¨¡å¼ä½¿ç”¨ Express æœåŠ¡å™¨ï¼ˆç«¯å£ 3000ï¼‰
> - Docker éƒ¨ç½²ä½¿ç”¨ç”Ÿäº§æ¨¡å¼ï¼Œå‰ç«¯é™æ€æ–‡ä»¶å·²å†…ç½®åœ¨é•œåƒä¸­ï¼Œè®¿é—®ç«¯å£ä¸º 3000
> - è¯¦ç»† Docker éƒ¨ç½²è¯´æ˜è¯·æŸ¥çœ‹ [Docker ä½¿ç”¨æŒ‡å—](docs/docker/DOCKER.md) å’Œ [WebUI è®¾ç½®æŒ‡å—](docs/webui/WEBUI_SETUP.md)

**WebUI API ç«¯ç‚¹**ï¼š
- æ ¹è·¯å¾„ `GET /` - è¿”å› API ä¿¡æ¯ï¼ˆå½“æœªé…ç½®é™æ€æ–‡ä»¶æ—¶ï¼‰
- å¥åº·æ£€æŸ¥ `GET /api/health` - æœåŠ¡å™¨å¥åº·çŠ¶æ€
- è®¤è¯ç›¸å…³ `GET /api/auth/*` - ç™»å½•ã€ç™»å‡ºã€çŠ¶æ€æŸ¥è¯¢
- é…ç½®ç®¡ç† `GET /api/config` - è·å–å’Œæ›´æ–°é…ç½®
- ä¸‹è½½ä»»åŠ¡ `POST /api/download/*` - å¯åŠ¨ã€åœæ­¢ã€æŸ¥è¯¢ä¸‹è½½ä»»åŠ¡
- ç»Ÿè®¡ä¿¡æ¯ `GET /api/stats/*` - ä¸‹è½½ç»Ÿè®¡ã€æ ‡ç­¾ç»Ÿè®¡ã€ä½œè€…ç»Ÿè®¡
- æ—¥å¿—æŸ¥çœ‹ `GET /api/logs` - è·å–æ—¥å¿—ï¼ŒWebSocket å®æ—¶æ—¥å¿—æµ
- æ–‡ä»¶æµè§ˆ `GET /api/files/*` - æ–‡ä»¶åˆ—è¡¨ã€é¢„è§ˆã€åˆ é™¤

**WebUI åŠŸèƒ½**ï¼š
- ğŸ“Š ä¸‹è½½ç»Ÿè®¡å’Œæ¦‚è§ˆ
- ğŸ“ æ–‡ä»¶æµè§ˆå’Œé¢„è§ˆï¼ˆæ”¯æŒæ—¥æ–‡ã€ä¸­æ–‡ç­‰ç‰¹æ®Šå­—ç¬¦æ–‡ä»¶åï¼‰
- ğŸ“ å®æ—¶æ—¥å¿—æŸ¥çœ‹
- âš™ï¸ é…ç½®ç®¡ç†
- ğŸ¯ ä»»åŠ¡ç®¡ç†ï¼ˆå¯åŠ¨/åœæ­¢ä¸‹è½½ï¼‰
- ğŸ“ˆ ä¸‹è½½å†å²æŸ¥çœ‹

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ [WebUI ä½¿ç”¨æŒ‡å—](docs/webui/WEBUI_README.md) å’Œ [WebUI è®¾ç½®æŒ‡å—](docs/webui/WEBUI_SETUP.md)ã€‚

---

### ğŸ³ ä½¿ç”¨ Dockerï¼ˆæ¨èï¼‰

PixivFlow æ”¯æŒ Docker éƒ¨ç½²ï¼Œæ— éœ€å®‰è£… Node.js ç¯å¢ƒï¼š

#### å¿«é€Ÿå¼€å§‹

```bash
# 1. å‡†å¤‡é…ç½®æ–‡ä»¶
cp config/standalone.config.example.json config/standalone.config.json

# 2. ç™»å½• Pixiv è´¦å·ï¼ˆåœ¨ä¸»æœºä¸Šï¼‰
npm run login

# 3. å¯åŠ¨å®šæ—¶ä»»åŠ¡æœåŠ¡
docker-compose up -d pixivflow

# æˆ–å¯åŠ¨ WebUI æœåŠ¡
docker-compose up -d pixivflow-webui

# æˆ–åŒæ—¶å¯åŠ¨ä¸¤ä¸ªæœåŠ¡
docker-compose up -d
```

#### ä½¿ç”¨è„šæœ¬å·¥å…·

```bash
# 1. åˆå§‹åŒ– Docker ç¯å¢ƒ
./scripts/pixiv.sh docker setup

# 2. ç™»å½• Pixiv è´¦å·
./scripts/pixiv.sh docker login

# 3. æ„å»ºå¹¶éƒ¨ç½²
./scripts/pixiv.sh docker deploy

# 4. æŸ¥çœ‹çŠ¶æ€
./scripts/pixiv.sh docker status

# 5. æŸ¥çœ‹æ—¥å¿—
./scripts/pixiv.sh docker logs -f
```

#### Docker æœåŠ¡è¯´æ˜

`docker-compose.yml` æä¾›äº†ä¸¤ä¸ªæœåŠ¡ï¼š

1. **pixivflow** - å®šæ—¶ä»»åŠ¡æœåŠ¡ï¼ˆé»˜è®¤ï¼‰
   - è‡ªåŠ¨æ‰§è¡Œå®šæ—¶ä¸‹è½½ä»»åŠ¡
   - åå°æŒç»­è¿è¡Œ

2. **pixivflow-webui** - WebUI ç®¡ç†ç•Œé¢ï¼ˆå¯é€‰ï¼‰
   - æä¾›ç°ä»£åŒ–çš„ Web ç®¡ç†ç•Œé¢
   - è®¿é—®åœ°å€ï¼šhttp://localhost:3000
   - æ”¯æŒæ–‡ä»¶æµè§ˆã€ç»Ÿè®¡æŸ¥çœ‹ã€ä»»åŠ¡ç®¡ç†ç­‰

#### Docker å¸¸ç”¨å‘½ä»¤

```bash
# å¯åŠ¨å®šæ—¶ä»»åŠ¡æœåŠ¡
docker-compose up -d pixivflow

# å¯åŠ¨ WebUI æœåŠ¡
docker-compose up -d pixivflow-webui

# åŒæ—¶å¯åŠ¨ä¸¤ä¸ªæœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f pixivflow
docker-compose logs -f pixivflow-webui

# åœæ­¢æœåŠ¡
docker-compose stop

# åœæ­¢å¹¶åˆ é™¤å®¹å™¨
docker-compose down

# é‡æ–°æ„å»ºé•œåƒ
docker-compose build
```

#### Docker è„šæœ¬å‘½ä»¤

- `docker setup` - åˆå§‹åŒ– Docker ç¯å¢ƒ
- `docker build` - æ„å»º Docker é•œåƒ
- `docker deploy` - éƒ¨ç½²æœåŠ¡ï¼ˆæ„å»º + å¯åŠ¨ï¼‰
- `docker up` - å¯åŠ¨æœåŠ¡
- `docker down` - åœæ­¢æœåŠ¡
- `docker status` - æŸ¥çœ‹æœåŠ¡çŠ¶æ€
- `docker logs` - æŸ¥çœ‹æ—¥å¿—
- `docker login` - åœ¨å®¹å™¨ä¸­ç™»å½•è´¦å·
- `docker random` - éšæœºä¸‹è½½ä½œå“ï¼ˆæµ‹è¯•ç”¨ï¼‰

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ [Docker ä½¿ç”¨æŒ‡å—](docs/docker/DOCKER.md)ã€‚

**ç›¸å…³æ–‡æ¡£**ï¼š
- [Docker ä½¿ç”¨æŒ‡å—](docs/docker/DOCKER.md) - å®Œæ•´çš„ Docker éƒ¨ç½²å’Œä½¿ç”¨è¯´æ˜
- [Docker ç½‘ç»œé—®é¢˜è§£å†³æ–¹æ¡ˆ](docs/docker/DOCKER_NETWORK_SOLUTION.md) - è§£å†³ä»£ç†è¿æ¥é—®é¢˜
- [Docker éšæœºä¸‹è½½é—®é¢˜è§£å†³æ–¹æ¡ˆ](docs/docker/DOCKER_RANDOM_DOWNLOAD_FIX.md) - è§£å†³éšæœºä¸‹è½½ç›¸å…³é—®é¢˜

---

## ğŸ› ï¸ è„šæœ¬å·¥å…·

PixivFlow æä¾›äº†ä¸°å¯Œçš„è„šæœ¬å·¥å…·ï¼Œè®©ä½ æ— éœ€è®°å¿†å¤æ‚çš„ npm å‘½ä»¤ã€‚æ‰€æœ‰è„šæœ¬éƒ½ç›´æ¥è°ƒç”¨å†…ç½® CLI åŠŸèƒ½ï¼Œæ€§èƒ½æ›´å¥½ã€å“åº”æ›´å¿«ã€‚

> âš ï¸ **é‡è¦è¯´æ˜ï¼šåç«¯å’Œè„šæœ¬çš„å®Œå…¨ç‹¬ç«‹æ€§**
> 
> - **åç«¯æ ¸å¿ƒ**ï¼š`src/index.ts` æ˜¯å®Œå…¨ç‹¬ç«‹çš„ CLI å·¥å…·ï¼Œå¯åœ¨ä»»ä½•ç¯å¢ƒè¿è¡Œï¼ˆæœåŠ¡å™¨ã€Dockerã€CI/CDï¼‰
> - **è„šæœ¬å·¥å…·**ï¼šæ‰€æœ‰è„šæœ¬ï¼ˆ`scripts/*.sh`ï¼‰ç›´æ¥è°ƒç”¨åç«¯ CLIï¼Œå®Œå…¨ç‹¬ç«‹äºå‰ç«¯ WebUI
> - **WebUI å¯é€‰**ï¼šå‰ç«¯ç•Œé¢åªæ˜¯å¯é€‰çš„è¾…åŠ©å·¥å…·ï¼Œæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå®Œç¾è¿è¡Œ
> - **æ— éœ€å‰ç«¯**ï¼šå³ä½¿ä¸ä½¿ç”¨å‰ç«¯ç•Œé¢ï¼Œæ‰€æœ‰åŠŸèƒ½ï¼ˆä¸‹è½½ã€ç™»å½•ã€è°ƒåº¦ç­‰ï¼‰éƒ½å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæˆ–è„šæœ¬ä½¿ç”¨

### ğŸ¯ ä¸»æ§è„šæœ¬ï¼ˆæœ€å¸¸ç”¨ï¼‰

```bash
./scripts/pixiv.sh <command>
```

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `setup` | äº¤äº’å¼é…ç½®å‘å¯¼ï¼ˆé¦–æ¬¡å¿…é¡»è¿è¡Œï¼‰ |
| `login` | ç™»å½• Pixiv è´¦å·ï¼ˆäº¤äº’å¼ï¼Œç›´æ¥è°ƒç”¨å†…ç½®CLIï¼‰ |
| `test` | æµ‹è¯•ä¸‹è½½ï¼ˆä¸‹è½½å°‘é‡ä½œå“éªŒè¯é…ç½®ï¼‰ |
| `once` | æ‰§è¡Œä¸€æ¬¡ä¸‹è½½ |
| `random` | éšæœºä¸‹è½½ä¸€ä¸ªçƒ­é—¨æ ‡ç­¾ä½œå“ï¼ˆæ”¯æŒ `--novel` ä¸‹è½½å°è¯´ï¼‰ |
| `run` | å¯åŠ¨å®šæ—¶ä»»åŠ¡ï¼ˆåå°æŒç»­è¿è¡Œï¼‰ |
| `stop` | åœæ­¢è¿è¡Œçš„å®šæ—¶ä»»åŠ¡ |
| `status` | æŸ¥çœ‹å½“å‰è¿è¡ŒçŠ¶æ€ |
| `health` | å¥åº·æ£€æŸ¥ï¼ˆæ£€æŸ¥é…ç½®ã€ç½‘ç»œç­‰ï¼‰ |
| `logs` | æŸ¥çœ‹è¿è¡Œæ—¥å¿— |

**ğŸ’¡ æç¤º**ï¼š
- æ‰€æœ‰å‘½ä»¤éƒ½ç›´æ¥è°ƒç”¨å†…ç½® CLIï¼Œæ— éœ€é€šè¿‡ npm scriptsï¼Œå“åº”æ›´å¿«
- æ‰€æœ‰åŠŸèƒ½éƒ½å¯ä»¥åœ¨æ— å‰ç«¯ç¯å¢ƒä¸‹å®Œç¾è¿è¡Œ
- åç«¯æ˜¯é¡¹ç›®çš„æ ¸å¿ƒï¼Œå‰ç«¯åªæ˜¯å¯é€‰çš„è¾…åŠ©å·¥å…·

### ğŸ” ç™»å½•ç®¡ç†

```bash
# æ–¹å¼1ï¼šä½¿ç”¨ä¸»æ§è„šæœ¬ï¼ˆæ¨èï¼‰
./scripts/pixiv.sh login

# æ–¹å¼2ï¼šä½¿ç”¨ç™»å½•è„šæœ¬ï¼ˆæ”¯æŒæ›´å¤šé€‰é¡¹ï¼‰
./scripts/login.sh

# æ–¹å¼3ï¼šä½¿ç”¨ npm å‘½ä»¤
npm run login

# æ— å¤´ç™»å½•ï¼ˆé€šè¿‡å‚æ•°æä¾›ç”¨æˆ·åå¯†ç ï¼‰
./scripts/pixiv.sh login -u your_username -p your_password
```

### âš™ï¸ é…ç½®ç®¡ç†

```bash
# äº¤äº’å¼é…ç½®å‘å¯¼
./scripts/easy-setup.sh

# é…ç½®æ–‡ä»¶ç®¡ç†
./scripts/config-manager.sh backup    # å¤‡ä»½é…ç½®
./scripts/config-manager.sh restore   # æ¢å¤é…ç½®
./scripts/config-manager.sh validate  # éªŒè¯é…ç½®
./scripts/config-manager.sh edit      # ç¼–è¾‘é…ç½®

# é…ç½®è·¯å¾„è¿ç§»ï¼ˆè‡ªåŠ¨ä¿®å¤ç»å¯¹è·¯å¾„ï¼Œé€‚ç”¨äºé¡¹ç›®è¿ç§»ï¼‰
pixivflow migrate-config              # æ‰§è¡Œè¿ç§»
pixivflow migrate-config --dry-run     # é¢„è§ˆæ›´æ”¹
pixivflow migrate-config --json        # JSON æ ¼å¼è¾“å‡º
# æˆ–ä½¿ç”¨ npm å‘½ä»¤
npm run start migrate-config          # æ‰§è¡Œè¿ç§»
npm run start migrate-config --dry-run # é¢„è§ˆæ›´æ”¹
```

### ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

```bash
# è‡ªåŠ¨ç›‘æ§ï¼ˆæŒç»­ç›‘æ§è¿è¡ŒçŠ¶æ€ï¼‰
./scripts/auto-monitor.sh

# è‡ªåŠ¨ç»´æŠ¤ï¼ˆæ¸…ç†æ—¥å¿—ã€ä¼˜åŒ–æ•°æ®åº“ï¼‰
./scripts/auto-maintain.sh

# è¯¦ç»†å¥åº·æ£€æŸ¥
./scripts/health-check.sh
```

### ğŸš€ éƒ¨ç½²å’Œå¤‡ä»½

```bash
# è‡ªåŠ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼ˆåŸç”Ÿæ¨¡å¼ï¼‰
./scripts/auto-deploy.sh

# Docker æ¨¡å¼éƒ¨ç½²ï¼ˆæ¨èï¼‰
./scripts/auto-deploy.sh production docker

# è‡ªåŠ¨å¤‡ä»½é…ç½®å’Œæ•°æ®
./scripts/auto-backup.sh
```

### ğŸ³ Docker ç®¡ç†

```bash
# ä½¿ç”¨ä¸»æ§åˆ¶è„šæœ¬
./scripts/pixiv.sh docker <command>

# æˆ–ç›´æ¥ä½¿ç”¨ Docker è„šæœ¬
./scripts/docker.sh <command>
```

**å¸¸ç”¨å‘½ä»¤**ï¼š
- `docker setup` - åˆå§‹åŒ– Docker ç¯å¢ƒ
- `docker build` - æ„å»ºé•œåƒ
- `docker deploy` - éƒ¨ç½²æœåŠ¡
- `docker up` - å¯åŠ¨æœåŠ¡
- `docker down` - åœæ­¢æœåŠ¡
- `docker status` - æŸ¥çœ‹çŠ¶æ€
- `docker logs` - æŸ¥çœ‹æ—¥å¿—
- `docker login` - ç™»å½•è´¦å·
- `docker test` - æµ‹è¯•ä¸‹è½½

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ [Docker ä½¿ç”¨æŒ‡å—](docs/docker/DOCKER.md)ã€‚

**ç›¸å…³æ–‡æ¡£**ï¼š
- [Docker ä½¿ç”¨æŒ‡å—](docs/docker/DOCKER.md) - å®Œæ•´çš„ Docker éƒ¨ç½²å’Œä½¿ç”¨è¯´æ˜
- [Docker ç½‘ç»œé—®é¢˜è§£å†³æ–¹æ¡ˆ](docs/docker/DOCKER_NETWORK_SOLUTION.md) - è§£å†³ä»£ç†è¿æ¥é—®é¢˜
- [Docker éšæœºä¸‹è½½é—®é¢˜è§£å†³æ–¹æ¡ˆ](docs/docker/DOCKER_RANDOM_DOWNLOAD_FIX.md) - è§£å†³éšæœºä¸‹è½½ç›¸å…³é—®é¢˜

### ğŸ¨ å†…ç½® CLI å‘½ä»¤

å¦‚æœå·²å…¨å±€å®‰è£…æˆ–ä½¿ç”¨ `npm run build` æ„å»ºåï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ `pixivflow` å‘½ä»¤ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
pixivflow --help

# å¸¸ç”¨å‘½ä»¤ï¼š
pixivflow login                    # äº¤äº’å¼ç™»å½•ï¼ˆç»ˆç«¯è¾“å…¥ç”¨æˆ·åå¯†ç ï¼‰
pixivflow login -u user -p pass    # Headless ç™»å½•ï¼ˆæ— æµè§ˆå™¨çª—å£ï¼‰
pixivflow download                 # æ‰§è¡Œä¸€æ¬¡ä¸‹è½½
pixivflow random                   # éšæœºä¸‹è½½ä¸€ä¸ªä½œå“
pixivflow random --novel           # éšæœºä¸‹è½½ä¸€ç¯‡å°è¯´
pixivflow scheduler                # å¯åŠ¨å®šæ—¶ä»»åŠ¡
pixivflow normalize                # æ•´ç†å’Œé‡ç»„å·²ä¸‹è½½çš„æ–‡ä»¶
pixivflow normalize --dry-run      # é¢„è§ˆæ•´ç†æ“ä½œï¼ˆä¸å®é™…æ‰§è¡Œï¼‰
pixivflow migrate-config           # è¿ç§»é…ç½®è·¯å¾„ï¼ˆç»å¯¹è·¯å¾„è½¬ç›¸å¯¹è·¯å¾„ï¼‰
pixivflow migrate-config --dry-run # é¢„è§ˆè¿ç§»æ›´æ”¹
```

**ğŸ’¡ æç¤º**ï¼š
- æ‰€æœ‰å‘½ä»¤éƒ½æ”¯æŒ `--help` æŸ¥çœ‹è¯¦ç»†ç”¨æ³•
- ä½¿ç”¨ `pixivflow` å‘½ä»¤æ¯”é€šè¿‡ npm scripts æ›´å¿«ï¼ˆç›´æ¥è°ƒç”¨ç¼–è¯‘åçš„ä»£ç ï¼‰
- æ¨èä½¿ç”¨ `./scripts/pixiv.sh` ä½œä¸ºä¸»è¦å…¥å£ï¼ˆå°è£…äº†å¸¸ç”¨æ“ä½œï¼‰

è¯¦ç»†è¯´æ˜ï¼š[è„šæœ¬ä½¿ç”¨æŒ‡å—](docs/scripts/SCRIPTS_GUIDE.md)

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### ğŸŒŸ æ–°æ‰‹å¿…è¯»ï¼ˆæŒ‰é¡ºåºé˜…è¯»ï¼‰

| æ–‡æ¡£ | è¯´æ˜ | æ¨èåº¦ |
|------|------|--------|
| [âš¡ QUICKSTART](docs/getting-started/QUICKSTART.md) | **3 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹** - æœ€å¿«å¼€å§‹ä½¿ç”¨ | â­â­â­â­â­ |
| [ğŸ“– START_HERE](docs/getting-started/START_HERE.md) | **æ–°æ‰‹å®Œæ•´æŒ‡å—** - ä»é›¶å¼€å§‹çš„è¯¦ç»†æ•™ç¨‹ | â­â­â­â­â­ |
| [ğŸ“š TUTORIAL](docs/getting-started/TUTORIAL.md) | **å®Œæ•´æ•™ç¨‹** - æ·±å…¥äº†è§£æ‰€æœ‰åŠŸèƒ½ | â­â­â­â­ |
| [ğŸ” LOGIN_GUIDE](docs/guides/LOGIN_GUIDE.md) | **ç™»å½•æµç¨‹è¯¦è§£** - ç™»å½•é—®é¢˜è§£å†³æ–¹æ¡ˆ | â­â­â­â­ |
| [ğŸ§ª TEST_GUIDE](docs/guides/TEST_GUIDE.md) | **æµ‹è¯•å’Œæ•…éšœæ’é™¤** - éªŒè¯å®‰è£…å’Œé…ç½® | â­â­â­â­ |

### ğŸ“˜ åŠŸèƒ½æŒ‡å—

| æ–‡æ¡£ | è¯´æ˜ | æ¨èåº¦ |
|------|------|--------|
| [ğŸ“‹ CONFIG_GUIDE](docs/guides/CONFIG_GUIDE.md) | **é…ç½®æ–‡ä»¶ä½¿ç”¨æŒ‡å—** - æ‰€æœ‰é…ç½®é€‰é¡¹è¯¦è§£ | â­â­â­â­â­ |
| [âš™ï¸ STANDALONE-SETUP-GUIDE](docs/guides/STANDALONE-SETUP-GUIDE.md) | **å®Œæ•´é…ç½®é€‰é¡¹è¯´æ˜** - é«˜çº§é…ç½®å‚è€ƒ | â­â­â­â­ |
| [ğŸ“Š RANKING_DOWNLOAD_GUIDE](docs/guides/RANKING_DOWNLOAD_GUIDE.md) | **æ’è¡Œæ¦œä¸‹è½½æŒ‡å—** - ä¸‹è½½æ’è¡Œæ¦œä½œå“ | â­â­â­â­ |
| [ğŸ”„ CONFIG-PATH-MIGRATION](docs/guides/CONFIG-PATH-MIGRATION.md) | **é…ç½®è·¯å¾„è¿ç§»** - é¡¹ç›®è¿ç§»æŒ‡å— | â­â­â­ |

### ğŸ› ï¸ å·¥å…·å’Œè„šæœ¬

| æ–‡æ¡£ | è¯´æ˜ | æ¨èåº¦ |
|------|------|--------|
| [ğŸ› ï¸ SCRIPTS_GUIDE](docs/scripts/SCRIPTS_GUIDE.md) | **è„šæœ¬ä½¿ç”¨æŒ‡å—** - æ‰€æœ‰è„šæœ¬è¯¦ç»†è¯´æ˜ | â­â­â­â­â­ |

### ğŸŒ WebUI å’Œ Docker

| æ–‡æ¡£ | è¯´æ˜ | æ¨èåº¦ |
|------|------|--------|
| [ğŸŒ WEBUI_README](docs/webui/WEBUI_README.md) | **WebUI ä½¿ç”¨æŒ‡å—** - Web ç®¡ç†ç•Œé¢ | â­â­â­â­ |
| [ğŸš€ WEBUI_SETUP](docs/webui/WEBUI_SETUP.md) | **WebUI è®¾ç½®æŒ‡å—** - WebUI éƒ¨ç½²é…ç½® | â­â­â­ |
| [ğŸ³ DOCKER](docs/docker/DOCKER.md) | **Docker ä½¿ç”¨æŒ‡å—** - Docker éƒ¨ç½²å’Œä½¿ç”¨ | â­â­â­â­ |
| [ğŸ”§ DOCKER_NETWORK_SOLUTION](docs/docker/DOCKER_NETWORK_SOLUTION.md) | **Docker ç½‘ç»œé—®é¢˜** - ä»£ç†è¿æ¥é—®é¢˜è§£å†³ | â­â­â­ |
| [ğŸ”§ DOCKER_RANDOM_DOWNLOAD_FIX](docs/docker/DOCKER_RANDOM_DOWNLOAD_FIX.md) | **Docker éšæœºä¸‹è½½** - éšæœºä¸‹è½½é—®é¢˜è§£å†³ | â­â­â­ |

### ğŸ“„ é¡¹ç›®æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [ğŸ“ CHANGELOG](docs/project/CHANGELOG.md) | ç‰ˆæœ¬æ›´æ–°æ—¥å¿— |
| [ğŸ“ CHANGELOG (EN)](docs/project/CHANGELOG_EN.md) | Version Changelog |
| [ğŸ¤ CONTRIBUTING](docs/project/CONTRIBUTING.md) | è´¡çŒ®æŒ‡å— |
| [ğŸ¤ CONTRIBUTING (EN)](docs/project/CONTRIBUTING_EN.md) | Contributing Guide |

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šæ¯æ—¥è‡ªåŠ¨æ”¶é›†çµæ„Ÿç´ æ

**éœ€æ±‚**ï¼šæ¯å¤©è‡ªåŠ¨ä¸‹è½½é£æ™¯ã€æ’ç”»ç±»é«˜è´¨é‡ä½œå“ä½œä¸ºè®¾è®¡ç´ æ

**é…ç½®ç¤ºä¾‹**ï¼š

```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "é¢¨æ™¯",
      "limit": 50,
      "minBookmarks": 1000
    },
    {
      "type": "illustration",
      "tag": "ã‚¤ãƒ©ã‚¹ãƒˆ",
      "limit": 30,
      "minBookmarks": 5000
    }
  ],
  "scheduler": {
    "enabled": true,
    "cron": "0 2 * * *"
  }
}
```

**è¿è¡Œæ–¹å¼**ï¼š

```bash
./scripts/pixiv.sh run
```

---

### åœºæ™¯ 2ï¼šæœåŠ¡å™¨å®šæ—¶æ”¶é›†ç‰¹å®šæ ‡ç­¾

**éœ€æ±‚**ï¼šåœ¨æœåŠ¡å™¨ä¸Šæ¯å‘¨æ”¶é›†ç‰¹å®šæ ‡ç­¾çš„çƒ­é—¨ä½œå“

**é…ç½®ç¤ºä¾‹**ï¼š

```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "åŸç¥",
      "limit": 100,
      "searchTarget": "partial_match_for_tags"
    }
  ],
  "scheduler": {
    "enabled": true,
    "cron": "0 0 * * 0",
    "timezone": "Asia/Shanghai"
  }
}
```

**éƒ¨ç½²æ–¹å¼**ï¼š

```bash
# ä½¿ç”¨è‡ªåŠ¨éƒ¨ç½²è„šæœ¬
./scripts/auto-deploy.sh

# æˆ–ä½¿ç”¨ PM2 ç®¡ç†è¿›ç¨‹
pm2 start "npm run scheduler" --name pixivflow
```

---

### åœºæ™¯ 3ï¼šå¿«é€Ÿä½“éªŒ - éšæœºä¸‹è½½

**éœ€æ±‚**ï¼šå¿«é€Ÿä½“éªŒå·¥å…·ï¼Œä¸‹è½½ä¸€ä¸ªéšæœºä½œå“

**è¿è¡Œæ–¹å¼**ï¼š

```bash
# éšæœºä¸‹è½½æ’ç”»ï¼ˆé»˜è®¤ï¼‰
npm run random

# éšæœºä¸‹è½½å°è¯´
npm run random -- --novel
# æˆ–
npm run random -- -n

# æ˜ç¡®æŒ‡å®šä¸‹è½½æ’ç”»
npm run random -- --illustration
# æˆ–
npm run random -- -i

# æˆ–ä½¿ç”¨ä¸»ç¨‹åºï¼ˆå¦‚æœå…¨å±€å®‰è£…äº† pixivflowï¼‰
pixivflow random
pixivflow random --novel
```

**åŠŸèƒ½è¯´æ˜**ï¼š
- ğŸ² **éšæœºé€‰æ‹©æ ‡ç­¾**ï¼šä»çƒ­é—¨æ ‡ç­¾ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªï¼ˆæ’ç”»ï¼šé¢¨æ™¯ã€ã‚¤ãƒ©ã‚¹ãƒˆã€ã‚ªãƒªã‚¸ãƒŠãƒ«ç­‰ï¼›å°è¯´ï¼šå°èª¬ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã€ãƒ›ãƒ©ãƒ¼ç­‰ï¼‰
- ğŸ” **éšæœºé€‰æ‹©ä½œå“**ï¼šä»æœç´¢ç»“æœä¸­éšæœºé€‰æ‹©ä¸€ä¸ªä½œå“
- ğŸ” **è‡ªåŠ¨ç™»å½•**ï¼šå¦‚æœæœªç™»å½•ï¼Œä¼šè‡ªåŠ¨å¼•å¯¼ç™»å½•
- ğŸ“¥ **å¿«é€Ÿä½“éªŒ**ï¼šä¸‹è½½ 1 ä¸ªéšæœºä½œå“ï¼Œå¿«é€Ÿäº†è§£å·¥å…·åŠŸèƒ½
- ğŸ“š **æ”¯æŒç±»å‹**ï¼šæ”¯æŒéšæœºä¸‹è½½æ’ç”»å’Œå°è¯´ä¸¤ç§ç±»å‹

---

### åœºæ™¯ 4ï¼šä¸€æ¬¡æ€§æ‰¹é‡ä¸‹è½½

**éœ€æ±‚**ï¼šä¸€æ¬¡æ€§ä¸‹è½½æŒ‡å®šæ ‡ç­¾çš„ä½œå“

**é…ç½®ç¤ºä¾‹**ï¼š

```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "art",
      "limit": 500
    }
  ]
}
```

**è¿è¡Œæ–¹å¼**ï¼š

```bash
# ä½¿ç”¨ä¾¿æ·è„šæœ¬ï¼ˆæ¨èï¼‰
./scripts/pixiv.sh once

# æˆ–ä½¿ç”¨ npm å‘½ä»¤
npm run download

# æˆ–ä½¿ç”¨ä¸»ç¨‹åºï¼ˆå¦‚æœå…¨å±€å®‰è£…äº† pixivflowï¼‰
pixivflow download
```

> **ğŸ’¡ æç¤º**ï¼šæ‰€æœ‰ä¸‹è½½ä»»åŠ¡éƒ½é€šè¿‡é…ç½®æ–‡ä»¶å®ç°ï¼Œæ— éœ€ä¿®æ”¹æºä»£ç ã€‚è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ [é…ç½®æ–‡ä»¶ä½¿ç”¨æŒ‡å—](docs/guides/CONFIG_GUIDE.md)ã€‚

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
pixivflow/
â”œâ”€â”€ ğŸ“„ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ standalone.config.json           # ä¸»é…ç½®ï¼ˆéœ€è‡ªè¡Œåˆ›å»ºï¼‰
â”‚   â”‚   â””â”€â”€ standalone.config.example.json   # é…ç½®æ¨¡æ¿
â”‚
â”œâ”€â”€ ğŸ’» æºä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts                 # ä¸»ç¨‹åºå…¥å£
â”‚   â”‚   â”œâ”€â”€ setup-wizard.ts          # é…ç½®å‘å¯¼
â”‚   â”‚   â”œâ”€â”€ config.ts                # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ logger.ts                # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ pixiv/                   # Pixiv API
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthClient.ts        # è®¤è¯å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â””â”€â”€ PixivClient.ts       # API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ download/                # ä¸‹è½½æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ DownloadManager.ts   # ä¸‹è½½ç®¡ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ FileService.ts       # æ–‡ä»¶æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ storage/                 # æ•°æ®æŒä¹…åŒ–
â”‚   â”‚   â”‚   â””â”€â”€ Database.ts          # SQLite æ•°æ®åº“
â”‚   â”‚   â””â”€â”€ scheduler/               # å®šæ—¶ä»»åŠ¡
â”‚   â”‚       â””â”€â”€ Scheduler.ts         # ä»»åŠ¡è°ƒåº¦å™¨
â”‚
â”œâ”€â”€ ğŸ› ï¸ è„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”œâ”€â”€ pixiv.sh                 # ä¸»æ§åˆ¶è„šæœ¬ï¼ˆæ¨èï¼‰
â”‚   â”‚   â”œâ”€â”€ easy-setup.sh            # é…ç½®å‘å¯¼ï¼ˆæ¨èï¼‰
â”‚   â”‚   â”œâ”€â”€ config-manager.sh        # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ health-check.sh          # å¥åº·æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ auto-monitor.sh          # è‡ªåŠ¨ç›‘æ§
â”‚   â”‚   â”œâ”€â”€ auto-maintain.sh         # è‡ªåŠ¨ç»´æŠ¤
â”‚   â”‚   â”œâ”€â”€ auto-backup.sh           # è‡ªåŠ¨å¤‡ä»½
â”‚   â”‚   â””â”€â”€ auto-deploy.sh           # è‡ªåŠ¨éƒ¨ç½²
â”‚
â”œâ”€â”€ ğŸ“¦ è¾“å‡ºç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ dist/                        # ç¼–è¯‘è¾“å‡º
â”‚   â”œâ”€â”€ downloads/                   # ä¸‹è½½ç›®å½•
â”‚   â”‚   â”œâ”€â”€ illustrations/           # æ’ç”»
â”‚   â”‚   â””â”€â”€ novels/                  # å°è¯´
â”‚   â””â”€â”€ data/                        # æ•°æ®ç›®å½•
â”‚       â”œâ”€â”€ pixiv-downloader.db      # SQLite æ•°æ®åº“
â”‚       â”œâ”€â”€ pixiv-downloader.log     # è¿è¡Œæ—¥å¿—
â”‚       â””â”€â”€ metadata/                # å…ƒæ•°æ®ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚           â””â”€â”€ *.json               # ä½œå“å…ƒæ•°æ® JSON æ–‡ä»¶
â”‚
â””â”€â”€ ğŸ“š æ–‡æ¡£
    â”œâ”€â”€ README.md                    # é¡¹ç›®ä¸»æ–‡æ¡£
    â””â”€â”€ docs/                        # æ–‡æ¡£ç›®å½•
        â”œâ”€â”€ getting-started/         # å…¥é—¨æŒ‡å—
        â”‚   â”œâ”€â”€ START_HERE.md        # æ–°æ‰‹æŒ‡å—
        â”‚   â”œâ”€â”€ QUICKSTART.md        # å¿«é€Ÿå¼€å§‹
        â”‚   â””â”€â”€ TUTORIAL.md          # å®Œæ•´æ•™ç¨‹
        â”œâ”€â”€ guides/                  # ä½¿ç”¨æŒ‡å—
        â”‚   â”œâ”€â”€ LOGIN_GUIDE.md       # ç™»å½•æŒ‡å—
        â”‚   â”œâ”€â”€ CONFIG_GUIDE.md      # é…ç½®æŒ‡å—
        â”‚   â”œâ”€â”€ STANDALONE-SETUP-GUIDE.md  # ç‹¬ç«‹è®¾ç½®æŒ‡å—
        â”‚   â”œâ”€â”€ RANKING_DOWNLOAD_GUIDE.md  # æ’è¡Œæ¦œä¸‹è½½æŒ‡å—
        â”‚   â””â”€â”€ TEST_GUIDE.md        # æµ‹è¯•æŒ‡å—
        â”œâ”€â”€ webui/                   # WebUI æ–‡æ¡£
        â”œâ”€â”€ docker/                  # Docker æ–‡æ¡£
        â”œâ”€â”€ scripts/                 # è„šæœ¬æ–‡æ¡£
        â”‚   â””â”€â”€ SCRIPTS_GUIDE.md     # è„šæœ¬æŒ‡å—
        â””â”€â”€ project/               # é¡¹ç›®æ–‡æ¡£
            â”œâ”€â”€ CHANGELOG.md         # æ›´æ–°æ—¥å¿—
            â””â”€â”€ CONTRIBUTING.md      # è´¡çŒ®æŒ‡å—
```

---

## âš™ï¸ æ ¸å¿ƒé…ç½®

é…ç½®æ–‡ä»¶ä½äº `config/standalone.config.json`ã€‚ä»¥ä¸‹æ˜¯å…³é”®é…ç½®é¡¹è¯´æ˜ï¼š

### è®¤è¯é…ç½®

```json
{
  "pixiv": {
    "refreshToken": "your_refresh_token_here",
    "clientId": "MOBrBDS8blbauoSck0ZfDbtuzpyT",
    "clientSecret": "lsACyCD94FhDUtGTXi3QzcFE2uU1hqtDaKeqrdwj",
    "userAgent": "PixivAndroidApp/5.0.234 (Android 11; Pixel 6)"
  }
}
```

> âš ï¸ `refreshToken` é€šè¿‡é…ç½®å‘å¯¼è‡ªåŠ¨è·å–ï¼Œæ— éœ€æ‰‹åŠ¨å¡«å†™

### ä¸‹è½½ç›®æ ‡

#### åŸºç¡€é…ç½®

```json
{
  "targets": [
    {
      "type": "illustration",              // ç±»å‹: illustration æˆ– novel
      "tag": "é¢¨æ™¯",                       // æœç´¢æ ‡ç­¾ï¼ˆæ”¯æŒå¤šä¸ªæ ‡ç­¾ï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼‰
      "limit": 20,                      // ä¸‹è½½æ•°é‡é™åˆ¶
      "mode": "search"                     // ä¸‹è½½æ¨¡å¼: searchï¼ˆæœç´¢ï¼‰æˆ– rankingï¼ˆæ’è¡Œæ¦œï¼‰
    }
  ]
}
```

#### å¸¸ç”¨é…ç½®é€‰é¡¹

| é€‰é¡¹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `type` | å†…å®¹ç±»å‹ | `"illustration"` æˆ– `"novel"` |
| `tag` | æœç´¢æ ‡ç­¾ï¼ˆæ”¯æŒå¤šæ ‡ç­¾ï¼Œç©ºæ ¼åˆ†éš”ï¼‰ | `"åŸç¥"` æˆ– `"æ˜æ—¥æ–¹èˆŸ ã‚¢ãƒ¼ã‚¯ãƒŠã‚¤ãƒ„"` |
| `limit` | ä¸‹è½½æ•°é‡é™åˆ¶ | `20` |
| `mode` | ä¸‹è½½æ¨¡å¼ | `"search"`ï¼ˆæœç´¢ï¼‰æˆ– `"ranking"`ï¼ˆæ’è¡Œæ¦œï¼‰ |
| `searchTarget` | æœç´¢èŒƒå›´ | `"partial_match_for_tags"`ï¼ˆéƒ¨åˆ†åŒ¹é…ï¼‰<br>`"exact_match_for_tags"`ï¼ˆç²¾ç¡®åŒ¹é…ï¼‰ |
| `sort` | æ’åºæ–¹å¼ | `"date_desc"`ï¼ˆæœ€æ–°ï¼‰<br>`"popular_desc"`ï¼ˆæœ€å—æ¬¢è¿ï¼‰<br>`"date_asc"`ï¼ˆæœ€æ—§ï¼‰ |
| `minBookmarks` | æœ€ä½æ”¶è—æ•° | `500` |
| `startDate` / `endDate` | æ—¥æœŸèŒƒå›´ | `"2024-01-01"`<br>**æ³¨æ„**ï¼šä½¿ç”¨ `date_desc` æ’åºæ—¶ï¼Œé‡åˆ°æ™šäº `endDate` çš„ä½œå“ä¼šè·³è¿‡ä½†ç»§ç»­æœç´¢ï¼Œé‡åˆ°æ—©äº `startDate` çš„ä½œå“ä¼šåœæ­¢æœç´¢ |
| `random` | éšæœºé€‰æ‹© | `true` |
| `seriesId` | å°è¯´ç³»åˆ—ID | `14690617`ï¼ˆä»… `type="novel"`ï¼‰ |
| `novelId` | å•ç¯‡å°è¯´ID | `26132156`ï¼ˆä»… `type="novel"`ï¼‰ |
| `languageFilter` | è¯­è¨€è¿‡æ»¤ | `"chinese"`ï¼ˆä»…ä¸­æ–‡ï¼‰<br>`"non-chinese"`ï¼ˆä»…éä¸­æ–‡ï¼‰<br>ä¸è®¾ç½®åˆ™ä¸‹è½½æ‰€æœ‰è¯­è¨€ï¼ˆä»… `type="novel"`ï¼‰ |
| `detectLanguage` | å¯ç”¨è¯­è¨€æ£€æµ‹ | `true`ï¼ˆé»˜è®¤ï¼‰æˆ– `false`ï¼ˆä»… `type="novel"`ï¼‰ |

#### é…ç½®ç¤ºä¾‹

**ç¤ºä¾‹ 1ï¼šå¤šæ ‡ç­¾æœç´¢**
```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "æ˜æ—¥æ–¹èˆŸ ã‚¢ãƒ¼ã‚¯ãƒŠã‚¤ãƒ„ ã‚¢ãƒ¼ãƒŸãƒ¤",
      "limit": 30,
      "mode": "search",
      "searchTarget": "partial_match_for_tags"
    }
  ]
}
```

**ç¤ºä¾‹ 2ï¼šæŒ‰æ”¶è—æ•°ç­›é€‰**
```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "é¢¨æ™¯",
      "limit": 50,
      "mode": "search",
      "minBookmarks": 1000,
      "sort": "popular_desc"
    }
  ]
}
```

**ç¤ºä¾‹ 3ï¼šæ’è¡Œæ¦œä¸‹è½½**
```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "ranking",
      "limit": 10,
      "mode": "ranking",
      "rankingMode": "day",
      "rankingDate": "YESTERDAY"
    }
  ]
}
```

**ç¤ºä¾‹ 4ï¼šå°è¯´ç³»åˆ—ä¸‹è½½**
```json
{
  "targets": [
    {
      "type": "novel",
      "seriesId": 14690617,
      "limit": 50
    }
  ]
}
```

**ç¤ºä¾‹ 5ï¼šè¯­è¨€è¿‡æ»¤ï¼ˆä»…ä¸‹è½½ä¸­æ–‡å°è¯´ï¼‰**
```json
{
  "targets": [
    {
      "type": "novel",
      "tag": "åŸç¥",
      "limit": 20,
      "languageFilter": "chinese",
      "detectLanguage": true
    }
  ]
}
```

**ç¤ºä¾‹ 6ï¼šè¯­è¨€è¿‡æ»¤ï¼ˆä»…ä¸‹è½½éä¸­æ–‡å°è¯´ï¼‰**
```json
{
  "targets": [
    {
      "type": "novel",
      "tag": "ã‚¢ãƒ¼ã‚¯ãƒŠã‚¤ãƒ„",
      "limit": 20,
      "languageFilter": "non-chinese",
      "detectLanguage": true
    }
  ]
}
```

**ğŸ’¡ è¯­è¨€æ£€æµ‹åŠŸèƒ½è¯´æ˜**ï¼š
- `languageFilter`ï¼šè®¾ç½®è¯­è¨€è¿‡æ»¤è§„åˆ™
  - `"chinese"`ï¼šä»…ä¸‹è½½ä¸­æ–‡å°è¯´ï¼ˆæ”¯æŒç®€ä½“ã€ç¹ä½“ã€ç²¤è¯­ã€å´è¯­ç­‰ä¸­æ–‡å˜ä½“ï¼‰
  - `"non-chinese"`ï¼šä»…ä¸‹è½½éä¸­æ–‡å°è¯´ï¼ˆå¦‚æ—¥æ–‡ã€è‹±æ–‡ç­‰ï¼‰
  - ä¸è®¾ç½®ï¼šä¸‹è½½æ‰€æœ‰è¯­è¨€çš„å°è¯´
- `detectLanguage`ï¼šæ˜¯å¦å¯ç”¨è¯­è¨€æ£€æµ‹ï¼ˆé»˜è®¤ï¼š`true`ï¼‰
  - `true`ï¼šæ£€æµ‹å¹¶è®°å½•è¯­è¨€ä¿¡æ¯ï¼Œä¿å­˜åˆ°å…ƒæ•°æ®æ–‡ä»¶
  - `false`ï¼šä¸è¿›è¡Œè¯­è¨€æ£€æµ‹
- **æ³¨æ„**ï¼šè¯­è¨€æ£€æµ‹éœ€è¦è‡³å°‘ 50 ä¸ªå­—ç¬¦çš„æ–‡æœ¬å†…å®¹ã€‚æ–‡æœ¬å¤ªçŸ­çš„å°è¯´æ— æ³•å¯é æ£€æµ‹ï¼Œé»˜è®¤ä¼šè¢«ä¸‹è½½ï¼ˆé¿å…è¯¯åˆ¤ï¼‰
- æ£€æµ‹åˆ°çš„è¯­è¨€ä¿¡æ¯ä¼šä¿å­˜åˆ° JSON å…ƒæ•°æ®æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨ä¸‹è½½çš„æ–‡æœ¬æ–‡ä»¶å¤´éƒ¨æ˜¾ç¤º

**ğŸ’¡ å¤šæ ‡ç­¾æœç´¢**ï¼š
- åœ¨ `tag` å­—æ®µä¸­ç”¨**ç©ºæ ¼åˆ†éš”å¤šä¸ªæ ‡ç­¾**ï¼Œè¡¨ç¤ºä½œå“å¿…é¡»**åŒæ—¶åŒ…å«**æ‰€æœ‰è¿™äº›æ ‡ç­¾ï¼ˆANDå…³ç³»ï¼‰
- ä¾‹å¦‚ï¼š`"tag": "æ˜æ—¥æ–¹èˆŸ ã‚¢ãƒ¼ã‚¯ãƒŠã‚¤ãƒ„ è§’è‰²å"` ä¼šæœç´¢åŒæ—¶åŒ…å«è¿™ä¸‰ä¸ªæ ‡ç­¾çš„ä½œå“
- æ”¯æŒä¸­æ–‡ã€æ—¥æ–‡ã€è‹±æ–‡æ ‡ç­¾æ··åˆä½¿ç”¨

**ğŸ“š å®Œæ•´é…ç½®æŒ‡å—**ï¼šæŸ¥çœ‹ [é…ç½®æ–‡ä»¶ä½¿ç”¨æŒ‡å—](docs/guides/CONFIG_GUIDE.md) äº†è§£æ‰€æœ‰é…ç½®é€‰é¡¹å’Œè¯¦ç»†ç¤ºä¾‹

### å®šæ—¶ä»»åŠ¡

```json
{
  "scheduler": {
    "enabled": true,                      // æ˜¯å¦å¯ç”¨
    "cron": "0 3 * * *",                 // Cron è¡¨è¾¾å¼
    "timezone": "Asia/Shanghai"           // æ—¶åŒº
  }
}
```

#### Cron è¡¨è¾¾å¼é€ŸæŸ¥

| è¡¨è¾¾å¼ | è¯´æ˜ |
|--------|------|
| `0 * * * *` | æ¯å°æ—¶æ‰§è¡Œ |
| `0 */6 * * *` | æ¯ 6 å°æ—¶æ‰§è¡Œ |
| `0 2 * * *` | æ¯å¤© 2:00 æ‰§è¡Œ |
| `0 0 * * 0` | æ¯å‘¨æ—¥ 0:00 æ‰§è¡Œ |
| `0 0 1 * *` | æ¯æœˆ 1 å· 0:00 æ‰§è¡Œ |

### å­˜å‚¨é…ç½®

```json
{
  "storage": {
    "databasePath": "./data/pixiv-downloader.db",
    "downloadDirectory": "./downloads",
    "illustrationDirectory": "./downloads/illustrations",
    "novelDirectory": "./downloads/novels",
    "illustrationOrganization": "byAuthorAndTag",
    "novelOrganization": "byDateAndAuthor"
  }
}
```

> **ğŸ’¡ è·¯å¾„è¿ç§»æç¤º**ï¼š
> - é…ç½®æ–‡ä»¶ä¸­çš„è·¯å¾„æ”¯æŒ**è‡ªåŠ¨ä¿®å¤**ï¼šé¡¹ç›®å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä¿®å¤è·¯å¾„é—®é¢˜
> - **ç»å¯¹è·¯å¾„è½¬ç›¸å¯¹è·¯å¾„**ï¼šå¦‚æœé…ç½®ä¸­çš„ç»å¯¹è·¯å¾„ä½äºé¡¹ç›®æ ¹ç›®å½•å†…ï¼Œä¼šè‡ªåŠ¨è½¬æ¢ä¸ºç›¸å¯¹è·¯å¾„
> - **è·¯å¾„ä¸å­˜åœ¨ä¿®å¤**ï¼šå¦‚æœé…ç½®çš„è·¯å¾„ä¸å­˜åœ¨ï¼Œä¼šå°è¯•ä½¿ç”¨é»˜è®¤è·¯å¾„
> - **æ‰‹åŠ¨è¿ç§»**ï¼šä½¿ç”¨ `npm run start migrate-config` å¯ä»¥æ‰‹åŠ¨è¿ç§»é…ç½®è·¯å¾„
> - è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ [é…ç½®è·¯å¾„è¿ç§»æŒ‡å—](docs/guides/CONFIG-PATH-MIGRATION.md)

#### ç›®å½•ç»„ç»‡æ–¹å¼

| æ¨¡å¼ | è¯´æ˜ | ç›®å½•ç»“æ„ç¤ºä¾‹ |
|------|------|-------------|
| `flat` | æ‰å¹³ç»“æ„ï¼ˆé»˜è®¤ï¼‰ | `illustrations/123456_æ ‡é¢˜_1.jpg` |
| `byAuthor` | æŒ‰ä½œè€…ç»„ç»‡ | `illustrations/ä½œè€…å/123456_æ ‡é¢˜_1.jpg` |
| `byTag` | æŒ‰æ ‡ç­¾ç»„ç»‡ | `illustrations/æ ‡ç­¾å/123456_æ ‡é¢˜_1.jpg` |
| `byDate` | æŒ‰æ—¥æœŸç»„ç»‡ï¼ˆYYYY-MMï¼‰ | `illustrations/2024-12/illustrations/123456_æ ‡é¢˜_1.jpg` |
| `byDay` | æŒ‰æ—¥ç»„ç»‡ï¼ˆYYYY-MM-DDï¼‰ | `illustrations/2024-12-25/illustrations/123456_æ ‡é¢˜_1.jpg` |
| `byAuthorAndTag` | æŒ‰ä½œè€…å’Œæ ‡ç­¾ | `illustrations/ä½œè€…å/æ ‡ç­¾å/123456_æ ‡é¢˜_1.jpg` |
| `byDateAndAuthor` | æŒ‰æ—¥æœŸå’Œä½œè€… | `illustrations/2024-12/ä½œè€…å/123456_æ ‡é¢˜_1.jpg` |
| `byDayAndAuthor` | æŒ‰æ—¥å’Œä½œè€… | `illustrations/2024-12-25/ä½œè€…å/123456_æ ‡é¢˜_1.jpg` |

> ğŸ’¡ **æç¤º**ï¼š
> - ä½¿ç”¨ç»„ç»‡æ¨¡å¼å¯ä»¥è®©ä¸‹è½½çš„æ–‡ä»¶æ›´æœ‰æ¡ç†ï¼Œä¾¿äºç®¡ç†å’ŒæŸ¥æ‰¾
> - ä½¿ç”¨ `byDate` æˆ– `byDay` æ¨¡å¼æ—¶ï¼Œä¼šåœ¨æ—¥æœŸæ–‡ä»¶å¤¹ä¸‹è‡ªåŠ¨åˆ›å»º `novels` å’Œ `illustrations` å­æ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«å­˜æ”¾å°è¯´å’Œå›¾ç‰‡
> - ä¾‹å¦‚ï¼š`{baseDir}/2024-12-25/novels/` å’Œ `{baseDir}/2024-12-25/illustrations/`

**å®Œæ•´é…ç½®è¯´æ˜**ï¼šæŸ¥çœ‹ [é…ç½®æŒ‡å—](docs/guides/STANDALONE-SETUP-GUIDE.md) å’Œ [é…ç½®æ–‡ä»¶ä½¿ç”¨æŒ‡å—](docs/guides/CONFIG_GUIDE.md)

---

## ğŸ› å¸¸è§é—®é¢˜

### â“ é…ç½®å‘å¯¼ç™»å½•å¤±è´¥ï¼Ÿ

**ç—‡çŠ¶**ï¼šè¿è¡Œ `npm run setup` åç™»å½•å¤±è´¥

**è§£å†³æ–¹æ³•**ï¼š
1. ç¡®è®¤åœ¨ç»ˆç«¯æ­£ç¡®è¾“å…¥äº† Pixiv ç”¨æˆ·åå’Œå¯†ç 
2. æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œä»£ç†è®¾ç½®
3. é‡æ–°è¿è¡Œé…ç½®å‘å¯¼ï¼š`npm run setup`

---

### â“ è®¤è¯å¤±è´¥æˆ– Token è¿‡æœŸï¼Ÿ

**ç—‡çŠ¶**ï¼šä¸‹è½½æ—¶æç¤º "è®¤è¯å¤±è´¥" æˆ– "401 Unauthorized"

**è§£å†³æ–¹æ³•**ï¼š

```bash
# æ–¹æ³• 1ï¼šä½¿ç”¨ç™»å½•è„šæœ¬ï¼ˆæ¨èï¼Œæœ€ç®€å•ï¼‰
npm run login

# æ–¹æ³• 2ï¼šé‡æ–°è¿è¡Œé…ç½®å‘å¯¼
./scripts/easy-setup.sh
# æˆ–
npm run setup
```

---

### â“ æ‰¾ä¸åˆ°åŒ¹é…çš„ä½œå“ï¼Ÿ

**ç—‡çŠ¶**ï¼šæœç´¢ç»“æœä¸ºç©ºæˆ–ä¸‹è½½æ•°é‡ä¸º 0

**å¯èƒ½åŸå› **ï¼š
- æ ‡ç­¾æ‹¼å†™é”™è¯¯æˆ–ä¸å­˜åœ¨
- ç­›é€‰æ¡ä»¶è¿‡äºä¸¥æ ¼
- ç½‘ç»œè¿æ¥é—®é¢˜

**è§£å†³æ–¹æ³•**ï¼š
1. å°è¯•å¸¸è§æ ‡ç­¾ï¼š`ã‚¤ãƒ©ã‚¹ãƒˆ`ã€`é¢¨æ™¯`ã€`art`
2. é™ä½ `minBookmarks` å€¼
3. æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®
4. åœ¨ Pixiv ç½‘ç«™ä¸Šæœç´¢ç¡®è®¤æ ‡ç­¾å­˜åœ¨

---

### â“ å®šæ—¶ä»»åŠ¡æ²¡æœ‰è¿è¡Œï¼Ÿ

**ç—‡çŠ¶**ï¼šè®¾ç½®äº†å®šæ—¶ä»»åŠ¡ä½†æ²¡æœ‰è‡ªåŠ¨ä¸‹è½½

**è§£å†³æ–¹æ³•**ï¼š

```bash
# 1. æ£€æŸ¥é…ç½®
./scripts/config-manager.sh validate

# 2. æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
./scripts/pixiv.sh status

# 3. æ£€æŸ¥æ—¥å¿—
./scripts/pixiv.sh logs

# 4. ç¡®ä¿ç¨‹åºæŒç»­è¿è¡Œ
# ä½¿ç”¨ PM2 ç®¡ç†è¿›ç¨‹
pm2 start "npm run scheduler" --name pixivflow
pm2 save
pm2 startup
```

---

### â“ ä¸‹è½½é€Ÿåº¦æ…¢æˆ–ç»å¸¸å¤±è´¥ï¼Ÿ

**å¯èƒ½åŸå› **ï¼šç½‘ç»œè¿æ¥ä¸ç¨³å®šæˆ– Pixiv æœåŠ¡å™¨é™æµ

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. åœ¨é…ç½®æ–‡ä»¶ä¸­è°ƒæ•´ä¸‹è½½è®¾ç½®ï¼š
   - å‡å°‘ `download.concurrency`ï¼ˆä¾‹å¦‚è®¾ç½®ä¸º 1-2ï¼‰
   - å¢åŠ  `download.requestDelay`ï¼ˆä¾‹å¦‚ 1000-2000msï¼‰
   - ä¿æŒ `download.dynamicConcurrency: true`ï¼ˆé»˜è®¤å¯ç”¨ï¼‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹é€Ÿç‡é™åˆ¶å¹¶è°ƒæ•´å¹¶å‘æ•°
3. å¢åŠ é‡è¯•æ¬¡æ•°å’Œè¶…æ—¶æ—¶é—´
4. ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ï¼ˆå¦‚æœéœ€è¦ï¼‰

**æç¤º**ï¼šPixivFlow å†…ç½®äº†æ™ºèƒ½çš„åŠ¨æ€å¹¶å‘æ§åˆ¶åŠŸèƒ½ã€‚å½“æ£€æµ‹åˆ°é€Ÿç‡é™åˆ¶ï¼ˆ429 é”™è¯¯ï¼‰æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é™ä½å¹¶å‘æ•°ï¼Œå¹¶åœ¨æˆåŠŸè¯·æ±‚åé€æ­¥æ¢å¤ã€‚è¿™å¤§å¤§å‡å°‘äº†æ‰‹åŠ¨è°ƒæ•´çš„éœ€è¦ã€‚

---

### â“ é‡åˆ°å·²åˆ é™¤æˆ–ç§æœ‰çš„ä½œå“ï¼Ÿ

**ç—‡çŠ¶**ï¼šä¸‹è½½è¿‡ç¨‹ä¸­æç¤ºæŸäº›ä½œå“æ— æ³•ä¸‹è½½

**è¯´æ˜**ï¼š
PixivFlow å†…ç½®äº†å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä¼šè‡ªåŠ¨å¤„ç†ä»¥ä¸‹æƒ…å†µï¼š

- âœ… **è‡ªåŠ¨è·³è¿‡å·²åˆ é™¤ä½œå“**ï¼šå¦‚æœä½œå“å·²è¢«ä½œè€…åˆ é™¤ï¼Œä¼šè‡ªåŠ¨è·³è¿‡å¹¶ç»§ç»­ä¸‹è½½å…¶ä»–ä½œå“
- âœ… **è‡ªåŠ¨è·³è¿‡ç§æœ‰ä½œå“**ï¼šå¦‚æœä½œå“è®¾ç½®ä¸ºç§æœ‰æˆ–éœ€è¦ç‰¹æ®Šæƒé™ï¼Œä¼šè‡ªåŠ¨è·³è¿‡
- âœ… **è‡ªåŠ¨è·³è¿‡æ— æ³•è®¿é—®çš„ä½œå“**ï¼šå¦‚æœä½œå“å› å…¶ä»–åŸå› æ— æ³•è®¿é—®ï¼ˆå¦‚ 404 é”™è¯¯ï¼‰ï¼Œä¼šè‡ªåŠ¨è·³è¿‡
- âœ… **è®°å½•è·³è¿‡æ•°é‡**ï¼šåœ¨ä¸‹è½½å®Œæˆåä¼šæ˜¾ç¤ºè·³è¿‡çš„ä½œå“æ•°é‡
- âœ… **ä¸ä¼šä¸­æ–­æµç¨‹**ï¼šå•ä¸ªä½œå“ä¸‹è½½å¤±è´¥ä¸ä¼šå½±å“æ•´ä¸ªä¸‹è½½ä»»åŠ¡

**æ—¥å¿—ç¤ºä¾‹**ï¼š

```
[INFO] Skipped 3 novel(s) (deleted, private, or inaccessible)
[INFO] Illustration tag é¢¨æ™¯ completed, { downloaded: 47 }
```

**è¯´æ˜**ï¼š
- 404 é”™è¯¯ä¼šä½¿ç”¨ `debug` çº§åˆ«æ—¥å¿—ï¼ˆé™é»˜è·³è¿‡ï¼‰
- å…¶ä»–é”™è¯¯ä¼šä½¿ç”¨ `warn` çº§åˆ«æ—¥å¿—ï¼ˆè®°å½•ä½†ç»§ç»­ï¼‰
- æ‰€æœ‰è·³è¿‡çš„ä½œå“æ•°é‡ä¼šåœ¨ä»»åŠ¡ç»“æŸæ—¶ç»Ÿä¸€æ˜¾ç¤º

---

### ğŸ” æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

```bash
# æŸ¥çœ‹è¿è¡Œæ—¥å¿—
./scripts/pixiv.sh logs

# æˆ–ç›´æ¥æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
tail -f data/pixiv-downloader.log
```

---

## ğŸ”’ å®‰å…¨æç¤º

> âš ï¸ **é‡è¦**ï¼šé…ç½®æ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œè¯·åŠ¡å¿…æ³¨æ„å®‰å…¨

### ğŸ›¡ï¸ å®‰å…¨å»ºè®®

| å»ºè®® | è¯´æ˜ |
|------|------|
| âœ… **ä¸è¦åˆ†äº«é…ç½®æ–‡ä»¶** | `config/standalone.config.json` åŒ…å«æ•æ„Ÿè®¤è¯ä¿¡æ¯ |
| âœ… **ä¸è¦æäº¤åˆ° Git** | ç¡®ä¿é…ç½®æ–‡ä»¶åœ¨ `.gitignore` ä¸­ï¼ˆå·²é»˜è®¤æ’é™¤ï¼‰ |
| âœ… **å®šæœŸå¤‡ä»½** | ä½¿ç”¨ `./scripts/auto-backup.sh` å¤‡ä»½é…ç½®å’Œæ•°æ® |
| âœ… **ä½¿ç”¨å¼ºå¯†ç ** | ä¿æŠ¤ä½ çš„ Pixiv è´¦å· |
| âœ… **HTTPS åŠ å¯†** | æ‰€æœ‰ API è¯·æ±‚å‡é€šè¿‡ HTTPS å®‰å…¨ä¼ è¾“ |
| âœ… **å®šæœŸæ›´æ–° Token** | å®šæœŸé‡æ–°è¿è¡Œé…ç½®å‘å¯¼æ›´æ–°è®¤è¯ä¿¡æ¯ |

### ğŸ” å…³äº refresh_token

`refresh_token` ç­‰åŒäºä½ çš„è´¦å·å¯†ç ï¼Œæ‹¥æœ‰å®ƒå³å¯è®¿é—®ä½ çš„ Pixiv è´¦æˆ·ã€‚

**å¦‚æœ refresh_token æ³„éœ²ï¼š**
1. ç«‹å³åœ¨ Pixiv è´¦æˆ·è®¾ç½®ä¸­æ’¤é”€æˆæƒ
2. ä¿®æ”¹ Pixiv è´¦æˆ·å¯†ç 
3. é‡æ–°è¿è¡Œé…ç½®å‘å¯¼è·å–æ–°çš„ token

---

## ğŸ“Š ä¸‹è½½è®°å½•ç®¡ç†

æ‰€æœ‰ä¸‹è½½è®°å½•ä¿å­˜åœ¨ SQLite æ•°æ®åº“ä¸­ï¼ˆ`data/pixiv-downloader.db`ï¼‰ï¼ŒåŒ…æ‹¬ï¼š

- ä½œå“ IDã€æ ‡é¢˜ã€ä½œè€…ä¿¡æ¯
- ä¸‹è½½æ—¶é—´ã€æ–‡ä»¶è·¯å¾„
- ä½œå“ç»Ÿè®¡ï¼ˆæµè§ˆé‡ã€æ”¶è—æ•°ç­‰ï¼‰

### æŸ¥çœ‹ä¸‹è½½è®°å½•

```bash
# ä½¿ç”¨ SQLite å‘½ä»¤è¡Œå·¥å…·
sqlite3 data/pixiv-downloader.db "SELECT * FROM downloaded_artworks LIMIT 10;"

# æˆ–ä½¿ç”¨å›¾å½¢ç•Œé¢å·¥å…·
# - DB Browser for SQLite
# - SQLiteStudio
```

### æ¸…ç†ä¸‹è½½è®°å½•

```bash
# ä½¿ç”¨ç»´æŠ¤è„šæœ¬ï¼ˆæ¨èï¼‰
./scripts/auto-maintain.sh

# æˆ–æ‰‹åŠ¨åˆ é™¤æ•°æ®åº“ï¼ˆä¼šé‡æ–°ä¸‹è½½æ‰€æœ‰ä½œå“ï¼‰
rm data/pixiv-downloader.db
```

---

## ğŸš€ è¿›é˜¶ä½¿ç”¨

### åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²

#### æ–¹å¼ 1ï¼šä½¿ç”¨ Dockerï¼ˆæ¨è â­ï¼‰

```bash
# Docker æ¨¡å¼éƒ¨ç½²
./scripts/auto-deploy.sh production docker

# æˆ–ä½¿ç”¨ Docker ç®¡ç†è„šæœ¬
./scripts/pixiv.sh docker deploy
```

#### æ–¹å¼ 2ï¼šä½¿ç”¨è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ï¼ˆåŸç”Ÿæ¨¡å¼ï¼‰

```bash
./scripts/auto-deploy.sh
```

#### æ–¹å¼ 3ï¼šä½¿ç”¨ PM2 ç®¡ç†

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨å®šæ—¶ä»»åŠ¡
pm2 start "npm run scheduler" --name pixivflow

# ä¿å­˜ PM2 é…ç½®
pm2 save

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
```

#### æ–¹å¼ 4ï¼šä½¿ç”¨ systemd

åˆ›å»ºæœåŠ¡æ–‡ä»¶ `/etc/systemd/system/pixivflow.service`ï¼š

```ini
[Unit]
Description=PixivFlow Automation Downloader
After=network.target

[Service]
Type=simple
User=your-username
WorkingDirectory=/path/to/pixivflow
ExecStart=/usr/bin/node dist/index.js scheduler
Restart=on-failure
RestartSec=10

[Install]
WantedBy=multi-user.target
```

å¯åŠ¨æœåŠ¡ï¼š

```bash
sudo systemctl enable pixivflow
sudo systemctl start pixivflow
sudo systemctl status pixivflow
```

---

### é…ç½®å¤šä¸ªä¸‹è½½ä»»åŠ¡

å¯ä»¥åœ¨ `targets` æ•°ç»„ä¸­æ·»åŠ å¤šä¸ªç›®æ ‡ï¼š

```json
{
  "targets": [
    {
      "type": "illustration",
      "tag": "é¢¨æ™¯",
      "limit": 50
    },
    {
      "type": "illustration",
      "tag": "ã‚¤ãƒ©ã‚¹ãƒˆ",
      "limit": 30,
      "minBookmarks": 1000
    },
    {
      "type": "novel",
      "tag": "å°èª¬",
      "limit": 10
    }
  ]
}
```

---

### ä½¿ç”¨ä»£ç†

å¦‚æœéœ€è¦é€šè¿‡ä»£ç†è®¿é—® Pixivï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š

#### æ–¹å¼ 1ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆæ¨è â­ï¼‰

ç¨‹åºä¼šè‡ªåŠ¨ä»ç¯å¢ƒå˜é‡è¯»å–ä»£ç†é…ç½®ï¼Œæ— éœ€ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š

```bash
# è®¾ç½®ä»£ç†ç¯å¢ƒå˜é‡ï¼ˆä¼˜å…ˆçº§ï¼šall_proxy > https_proxy > http_proxyï¼‰
export all_proxy=socks5://127.0.0.1:6153
# æˆ–
export https_proxy=http://127.0.0.1:6152
# æˆ–
export http_proxy=http://127.0.0.1:6152

# ç„¶åè¿è¡Œç¨‹åº
npm run download
```

**æ”¯æŒçš„ä»£ç†åè®®**ï¼š
- `http://` - HTTP ä»£ç†
- `https://` - HTTPS ä»£ç†
- `socks5://` - SOCKS5 ä»£ç†
- `socks4://` - SOCKS4 ä»£ç†

**ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§**ï¼š
1. `all_proxy` æˆ– `ALL_PROXY`ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
2. `https_proxy` æˆ– `HTTPS_PROXY`
3. `http_proxy` æˆ– `HTTP_PROXY`

#### æ–¹å¼ 2ï¼šé…ç½®æ–‡ä»¶è®¾ç½®

```json
{
  "network": {
    "proxy": {
      "enabled": true,
      "host": "127.0.0.1",
      "port": 7890,
      "protocol": "http"
    }
  }
}
```

**æ³¨æ„**ï¼šå¦‚æœé…ç½®æ–‡ä»¶ä¸­å·²å¯ç”¨ä»£ç†ï¼Œç¯å¢ƒå˜é‡ä¸ä¼šè¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„è®¾ç½®ã€‚

---

## ğŸ“„ å¼€æºè®¸å¯

æœ¬é¡¹ç›®é‡‡ç”¨ [GPL-3.0-or-later](LICENSE) è®¸å¯è¯å¼€æºã€‚

**è¿™æ„å‘³ç€ï¼š**
- âœ… å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘
- âœ… ä¿®æ”¹åçš„ä»£ç ä¹Ÿå¿…é¡»å¼€æº
- âœ… éœ€è¦ä¿ç•™åŸä½œè€…ä¿¡æ¯å’Œè®¸å¯è¯å£°æ˜

---

## ğŸ™ è‡´è°¢

### çµæ„Ÿæ¥æº

- [PixivBatchDownloader](https://github.com/xuejianxianzun/PixivBatchDownloader) - æµè§ˆå™¨æ‰©å±•ç‰ˆæœ¬
- [get-pixivpy-token](https://github.com/eggplants/get-pixivpy-token) - OAuth è®¤è¯å®ç°å‚è€ƒ

### æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€… ğŸ‰

---

## ğŸ“® è·å–å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿè¿™é‡Œæœ‰å¤šç§æ–¹å¼è·å–å¸®åŠ©ï¼š

| ç±»å‹ | æ¸ é“ | è¯´æ˜ |
|------|------|------|
| ğŸ› **Bug åé¦ˆ** | [GitHub Issues](https://github.com/zoidberg-xgd/pixivflow/issues) | æŠ¥å‘Šé—®é¢˜å’Œé”™è¯¯ |
| ğŸ’¡ **åŠŸèƒ½å»ºè®®** | [GitHub Discussions](https://github.com/zoidberg-xgd/pixivflow/discussions) | æå‡ºæ–°åŠŸèƒ½æƒ³æ³• |
| ğŸ“– **ä½¿ç”¨é—®é¢˜** | [æŸ¥çœ‹æ–‡æ¡£](./START_HERE.md) | æŸ¥é˜…å®Œæ•´æ–‡æ¡£ |
| âœ… **ç¯å¢ƒæ£€æŸ¥** | `./scripts/pixiv.sh health` | è¿è¡Œå¥åº·æ£€æŸ¥ |
| ğŸ’¬ **ç¤¾åŒºäº¤æµ** | [Discussions](https://github.com/zoidberg-xgd/pixivflow/discussions) | ä¸å…¶ä»–ç”¨æˆ·äº¤æµ |
| ğŸ“š **å®Œæ•´æ•™ç¨‹** | [TUTORIAL.md](./TUTORIAL.md) | è¯¦ç»†ä½¿ç”¨æ•™ç¨‹ |
| ğŸ” **å¸¸è§é—®é¢˜** | [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜) | æŸ¥çœ‹å¸¸è§é—®é¢˜è§£ç­” |

### æœç´¢å…³é”®è¯

å¦‚æœä½ åœ¨å¯»æ‰¾ç±»ä¼¼å·¥å…·ï¼Œè¿™äº›å…³é”®è¯å¯èƒ½å¯¹ä½ æœ‰å¸®åŠ©ï¼š

- `pixiv downloader` - Pixiv ä¸‹è½½å™¨
- `pixiv batch download` - Pixiv æ‰¹é‡ä¸‹è½½
- `pixiv automation` - Pixiv è‡ªåŠ¨åŒ–
- `pixiv cli` - Pixiv å‘½ä»¤è¡Œå·¥å…·
- `pixiv api` - Pixiv API å®¢æˆ·ç«¯
- `pixiv scheduler` - Pixiv å®šæ—¶ä»»åŠ¡
- `pixiv artwork downloader` - Pixiv ä½œå“ä¸‹è½½å™¨
- `pixiv novel downloader` - Pixiv å°è¯´ä¸‹è½½å™¨

### æé—®å‰è¯·å…ˆï¼š

1. ğŸ” æŸ¥çœ‹ [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜) ç« èŠ‚
2. ğŸ“– é˜…è¯»ç›¸å…³æ–‡æ¡£
3. âœ… è¿è¡Œå¥åº·æ£€æŸ¥ `./scripts/health-check.sh`
4. ğŸ“‹ æŸ¥çœ‹è¿è¡Œæ—¥å¿— `./scripts/pixiv.sh logs`

---

## ğŸ“ˆ é¡¹ç›®ç»Ÿè®¡

<div align="center">

### é¡¹ç›®æ•°æ®

![GitHub repo size](https://img.shields.io/github/repo-size/zoidberg-xgd/pixivflow?style=flat-square)
![GitHub language count](https://img.shields.io/github/languages/count/zoidberg-xgd/pixivflow?style=flat-square)
![GitHub top language](https://img.shields.io/github/languages/top/zoidberg-xgd/pixivflow?style=flat-square)
![GitHub last commit](https://img.shields.io/github/last-commit/zoidberg-xgd/pixivflow?style=flat-square)

</div>

### æ€§èƒ½æŒ‡æ ‡

- âš¡ **å¯åŠ¨é€Ÿåº¦**ï¼š< 2 ç§’
- ğŸ“¦ **åŒ…å¤§å°**ï¼š< 5 MBï¼ˆä¸å«ä¾èµ–ï¼‰
- ğŸ’¾ **å†…å­˜å ç”¨**ï¼š< 100 MBï¼ˆè¿è¡Œæ—¶ï¼‰
- ğŸ”„ **ä¸‹è½½é€Ÿåº¦**ï¼šæ”¯æŒå¹¶å‘ä¸‹è½½ï¼Œæ™ºèƒ½é™æµå’ŒåŠ¨æ€å¹¶å‘è°ƒæ•´
- ğŸ“Š **æ•°æ®åº“**ï¼šSQLiteï¼Œè½»é‡çº§ï¼Œæ— éœ€é¢å¤–æœåŠ¡

---

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼æ— è®ºæ˜¯æŠ¥å‘Š Bugã€æå‡ºåŠŸèƒ½å»ºè®®ï¼Œè¿˜æ˜¯æäº¤ä»£ç ï¼Œéƒ½éå¸¸æ„Ÿè°¢ã€‚

### å¦‚ä½•è´¡çŒ®

1. **Fork é¡¹ç›®**
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯** (`git checkout -b feature/AmazingFeature`)
3. **æäº¤æ›´æ”¹** (`git commit -m 'Add some AmazingFeature'`)
4. **æ¨é€åˆ°åˆ†æ”¯** (`git push origin feature/AmazingFeature`)
5. **å¼€å¯ Pull Request**

### è´¡çŒ®æŒ‡å—

è¯¦ç»†çš„è´¡çŒ®æŒ‡å—è¯·æŸ¥çœ‹ [CONTRIBUTING.md](docs/project/CONTRIBUTING.md)ï¼ŒåŒ…å«ï¼š
- è¡Œä¸ºå‡†åˆ™
- å¼€å‘ç¯å¢ƒè®¾ç½®
- ä»£ç è§„èŒƒ
- æäº¤è§„èŒƒ
- Pull Request æµç¨‹

---

## ğŸ“ æ›´æ–°æ—¥å¿—

æŸ¥çœ‹ [CHANGELOG.md](docs/project/CHANGELOG.md) äº†è§£è¯¦ç»†çš„ç‰ˆæœ¬æ›´æ–°è®°å½•ã€‚

---

## æ”¯æŒé¡¹ç›®

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ï¼š

- â­ **ç»™é¡¹ç›®ä¸€ä¸ª Star** - è®©æ›´å¤šäººå‘ç°è¿™ä¸ªé¡¹ç›®
- ğŸ´ **Fork é¡¹ç›®** - åˆ›å»ºä½ è‡ªå·±çš„ç‰ˆæœ¬
- ğŸ› **æŠ¥å‘Š Bug** - å¸®åŠ©æˆ‘ä»¬æ”¹è¿›
- ğŸ’¡ **æå‡ºå»ºè®®** - åˆ†äº«ä½ çš„æƒ³æ³•
- ğŸ“¢ **åˆ†äº«ç»™æ›´å¤šäºº** - è®©æ›´å¤šäººå—ç›Š
- ğŸ’» **è´¡çŒ®ä»£ç ** - å‚ä¸é¡¹ç›®å¼€å‘

<div align="center">

### â­ Star è¿™ä¸ªé¡¹ç›®

**[â­ Star on GitHub](https://github.com/zoidberg-xgd/pixivflow)** - è®©æ›´å¤šäººå‘ç° PixivFlowï¼

---

Made with â¤ï¸ by [zoidberg-xgd](https://github.com/zoidberg-xgd)

**PixivFlow** - è®© Pixiv ä½œå“æ”¶é›†å˜å¾—ä¼˜é›…è€Œé«˜æ•ˆ

[â¬† å›åˆ°é¡¶éƒ¨](#-pixivflow)

</div>
